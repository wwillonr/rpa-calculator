ESTRUTURA DE ARQUIVOS E C√ìDIGO FONTE DO PROJETO:

--- LISTA DE ARQUIVOS ---
\API.md
\ARCHITECTURE.md
\backend\package.json
\backend\README.md
\backend\src\config\firebase.js
\backend\src\controllers\projectController.js
\backend\src\controllers\settingsController.js
\backend\src\routes\index.js
\backend\src\scripts\initFirestore.js
\backend\src\scripts\setAdmin.js
\backend\src\server.js
\backend\src\services\calculationService.js
\backend\src\services\projectService.js
\DEPLOY.md
\EXAMPLES.md
\frontend\index.html
\frontend\package.json
\frontend\README.md
\frontend\src\App.jsx
\frontend\src\components\Home.jsx
\frontend\src\components\Login.jsx
\frontend\src\components\Navbar.jsx
\frontend\src\components\ProjectHistory.jsx
\frontend\src\components\ReloadPrompt.jsx
\frontend\src\components\ResultsDashboard.jsx
\frontend\src\components\ROIWizard.jsx
\frontend\src\components\Settings.jsx
\frontend\src\components\SignUp.jsx
\frontend\src\components\steps\Step1ProjectInfo.jsx
\frontend\src\components\steps\Step2AsIsInputs.jsx
\frontend\src\components\steps\Step3Complexity.jsx
\frontend\src\components\steps\Step4Review.jsx
\frontend\src\config\firebase.js
\frontend\src\contexts\AuthContext.jsx
\frontend\src\main.jsx
\frontend\src\services\api.js
\frontend\src\version.js
\frontend\vite.config.js
\git-init.js
\git-reset.js
\INDEX.md
\NEXT_STEPS.md
\package.json
\PROJECT_STRUCTURE.md
\QUICKSTART.md
\README.md
\release.js
\SUMMARY.md




==================================================================
ARQUIVO: \API.md
==================================================================

# üìö API Documentation - RPA ROI Navigator

Documenta√ß√£o completa da API REST.

## Base URL

```
Development: http://localhost:5000/api
Production:  https://rpa-roi-navigator-api.onrender.com/api
```

## üîê Autentica√ß√£o

Atualmente a API n√£o requer autentica√ß√£o. Em vers√µes futuras, ser√° implementado Firebase Auth.

## üì° Endpoints

### Health Check

#### GET /health

Verifica o status da API.

**Response 200 OK**
```json
{
  "success": true,
  "message": "RPA ROI Navigator API is running",
  "timestamp": "2024-01-15T10:30:00.000Z"
}
```

---

### Projetos

#### POST /projects

Cria um novo projeto e calcula o ROI.

**Request Body**
```json
{
  "projectName": "Automa√ß√£o de Faturamento",
  "ownerUid": "user123",
  "inputs": {
    "volume": 5000,
    "aht": 10,
    "fteCost": 8000,
    "errorRate": 5
  },
  "complexity": {
    "numApplications": 3,
    "dataType": "structured",
    "environment": "web",
    "numSteps": 25
  }
}
```

**Campos**

| Campo | Tipo | Obrigat√≥rio | Descri√ß√£o |
|-------|------|-------------|-----------|
| projectName | string | Sim | Nome do projeto |
| ownerUid | string | N√£o | ID do respons√°vel (default: "anonymous") |
| inputs.volume | number | Sim | Volume mensal de transa√ß√µes |
| inputs.aht | number | Sim | Average Handle Time em minutos |
| inputs.fteCost | number | Sim | Custo mensal do FTE em R$ |
| inputs.errorRate | number | N√£o | Taxa de erro humano em % (default: 0) |
| complexity.numApplications | number | Sim | N√∫mero de aplica√ß√µes integradas |
| complexity.dataType | string | Sim | Tipo de dados: "structured", "text", "ocr" |
| complexity.environment | string | Sim | Ambiente: "web", "sap", "citrix" |
| complexity.numSteps | number | Sim | N√∫mero de passos/regras |

**Response 201 Created**
```json
{
  "success": true,
  "data": {
    "id": "abc123def456",
    "project_name": "Automa√ß√£o de Faturamento",
    "owner_uid": "user123",
    "created_at": "2024-01-15T10:30:00.000Z",
    "updated_at": "2024-01-15T10:30:00.000Z",
    "inputs_as_is": {
      "volume": 5000,
      "aht": 10,
      "fte_cost": 8000,
      "error_rate": 5
    },
    "complexity_input": {
      "numApplications": 3,
      "dataType": "structured",
      "environment": "web",
      "numSteps": 25
    },
    "complexity_score": {
      "total_points": 8,
      "classification": "MEDIUM",
      "hours": {
        "devHours": 160,
        "analystHours": 48,
        "totalHours": 208
      }
    },
    "results": {
      "development_cost": 26400,
      "as_is_cost_annual": 500000,
      "to_be_cost_annual": 23960,
      "roi_year_1": 1699.24,
      "annual_savings": 476040,
      "monthly_savings": 39670,
      "payback_months": 0.7,
      "cost_breakdown": {
        "licenseCost": 15000,
        "infraCost": 5000,
        "maintenanceCost": 3960,
        "exceptionCost": 0,
        "totalToBeCost": 23960
      }
    }
  }
}
```

**Response 400 Bad Request**
```json
{
  "success": false,
  "error": "Missing required fields: projectName, inputs, complexity"
}
```

---

#### GET /projects/:id

Busca um projeto espec√≠fico por ID.

**Parameters**

| Par√¢metro | Tipo | Descri√ß√£o |
|-----------|------|-----------|
| id | string | ID do projeto |

**Response 200 OK**
```json
{
  "success": true,
  "data": {
    "id": "abc123def456",
    "project_name": "Automa√ß√£o de Faturamento",
    ...
  }
}
```

**Response 404 Not Found**
```json
{
  "success": false,
  "error": "Project not found"
}
```

---

#### GET /projects

Lista todos os projetos de um usu√°rio.

**Query Parameters**

| Par√¢metro | Tipo | Obrigat√≥rio | Descri√ß√£o |
|-----------|------|-------------|-----------|
| ownerUid | string | Sim | ID do respons√°vel |

**Exemplo**
```
GET /api/projects?ownerUid=user123
```

**Response 200 OK**
```json
{
  "success": true,
  "data": [
    {
      "id": "abc123",
      "project_name": "Projeto 1",
      "created_at": "2024-01-15T10:30:00.000Z",
      ...
    },
    {
      "id": "def456",
      "project_name": "Projeto 2",
      "created_at": "2024-01-14T09:20:00.000Z",
      ...
    }
  ]
}
```

---

#### PUT /projects/:id

Atualiza um projeto existente.

**Parameters**

| Par√¢metro | Tipo | Descri√ß√£o |
|-----------|------|-----------|
| id | string | ID do projeto |

**Request Body**
```json
{
  "project_name": "Novo Nome do Projeto"
}
```

**Response 200 OK**
```json
{
  "success": true,
  "data": {
    "id": "abc123",
    "project_name": "Novo Nome do Projeto",
    "updated_at": "2024-01-15T11:00:00.000Z",
    ...
  }
}
```

---

#### DELETE /projects/:id

Deleta um projeto.

**Parameters**

| Par√¢metro | Tipo | Descri√ß√£o |
|-----------|------|-----------|
| id | string | ID do projeto |

**Response 200 OK**
```json
{
  "success": true,
  "data": {
    "success": true,
    "message": "Project deleted successfully"
  }
}
```

---

### Configura√ß√µes

#### GET /settings

Busca as configura√ß√µes globais da aplica√ß√£o.

**Response 200 OK**
```json
{
  "success": true,
  "data": {
    "rates": {
      "dev_hourly": 120.0,
      "analyst_hourly": 150.0,
      "infra_annual": 5000.0,
      "license_annual": 15000.0
    },
    "baselines": {
      "low": 104,
      "medium": 208,
      "high": 416
    },
    "updated_at": "2024-01-15T10:00:00.000Z"
  }
}
```

---

#### PUT /settings

Atualiza as configura√ß√µes globais.

**Request Body**
```json
{
  "rates": {
    "dev_hourly": 130.0,
    "analyst_hourly": 160.0,
    "infra_annual": 6000.0,
    "license_annual": 18000.0
  }
}
```

**Response 200 OK**
```json
{
  "success": true,
  "data": {
    "rates": {
      "dev_hourly": 130.0,
      "analyst_hourly": 160.0,
      "infra_annual": 6000.0,
      "license_annual": 18000.0
    },
    "baselines": {
      "low": 104,
      "medium": 208,
      "high": 416
    },
    "updated_at": "2024-01-15T11:30:00.000Z"
  }
}
```

---

## üìä L√≥gica de C√°lculo

### Matriz de Complexidade

**Pontua√ß√£o por Crit√©rio:**

1. **N√∫mero de Aplica√ß√µes**
   - 1-2: 1 ponto
   - 3-4: 2 pontos
   - 5+: 3 pontos

2. **Tipo de Dados**
   - structured: 1 ponto
   - text: 2 pontos
   - ocr: 5 pontos

3. **Ambiente**
   - web: 1 ponto
   - sap: 2 pontos
   - citrix: 4 pontos

4. **N√∫mero de Passos**
   - <20: 1 ponto
   - 20-50: 3 pontos
   - >50: 5 pontos

**Classifica√ß√£o:**
- 4-6 pontos: LOW (80h dev + 24h an√°lise)
- 7-11 pontos: MEDIUM (160h dev + 48h an√°lise)
- 12+ pontos: HIGH (320h dev + 96h an√°lise)

### F√≥rmulas Financeiras

**Custo AS-IS (Anual)**
```
Custo_Minuto = fteCost / 9600
Custo_AS_IS = (volume √ó aht √ó 12) √ó Custo_Minuto √ó (1 + errorRate/100)
```

**Custo de Desenvolvimento**
```
Custo_Dev = (devHours √ó dev_hourly) + (analystHours √ó analyst_hourly)
```

**Custo TO-BE (Anual)**
```
Custo_TO_BE = license_annual + infra_annual + (Custo_Dev √ó 0.15)
```

**ROI Ano 1**
```
Economia = Custo_AS_IS - Custo_TO_BE
ROI = ((Economia - Custo_Dev) / Custo_Dev) √ó 100
```

**Payback (Meses)**
```
Economia_Mensal = Economia / 12
Payback = Custo_Dev / Economia_Mensal
```

---

## üîç C√≥digos de Status

| C√≥digo | Descri√ß√£o |
|--------|-----------|
| 200 | OK - Requisi√ß√£o bem-sucedida |
| 201 | Created - Recurso criado com sucesso |
| 400 | Bad Request - Dados inv√°lidos |
| 404 | Not Found - Recurso n√£o encontrado |
| 500 | Internal Server Error - Erro no servidor |

---

## üìù Exemplos de Uso

### cURL

```bash
# Criar projeto
curl -X POST https://api.example.com/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "projectName": "Teste",
    "inputs": {
      "volume": 1000,
      "aht": 5,
      "fteCost": 5000
    },
    "complexity": {
      "numApplications": 2,
      "dataType": "structured",
      "environment": "web",
      "numSteps": 15
    }
  }'

# Listar projetos
curl https://api.example.com/api/projects?ownerUid=user123
```

### JavaScript (Axios)

```javascript
import axios from 'axios';

const api = axios.create({
  baseURL: 'https://api.example.com/api',
});

// Criar projeto
const response = await api.post('/projects', {
  projectName: 'Teste',
  inputs: {
    volume: 1000,
    aht: 5,
    fteCost: 5000,
  },
  complexity: {
    numApplications: 2,
    dataType: 'structured',
    environment: 'web',
    numSteps: 15,
  },
});

console.log(response.data);
```

---

## üìÑ Licen√ßa

Proprietary - Uso Corporativo


==================================================================
ARQUIVO: \ARCHITECTURE.md
==================================================================

# üèóÔ∏è Arquitetura T√©cnica - RPA ROI Navigator

Documenta√ß√£o completa da arquitetura e decis√µes t√©cnicas do projeto.

## üìê Vis√£o Geral

O RPA ROI Navigator √© uma aplica√ß√£o PWA (Progressive Web App) full-stack para c√°lculo e proje√ß√£o de ROI de automa√ß√µes RPA, focada em grandes corpora√ß√µes do setor de energia.

### Stack Tecnol√≥gica

**Frontend**
- React 18 + Vite
- Material UI (Design System)
- Recharts (Visualiza√ß√£o de dados)
- Axios (HTTP Client)
- Firebase SDK (Client)
- PWA (Service Worker + Manifest)

**Backend**
- Node.js + Express
- Firebase Admin SDK
- Helmet (Seguran√ßa)
- Morgan (Logging)
- CORS

**Database**
- Firebase Firestore (NoSQL)

**Infraestrutura**
- Render (Web Service + Static Site)

## üéØ Arquitetura de Alto N√≠vel

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Navegador     ‚îÇ
‚îÇ   (PWA Client)  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ HTTPS
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Static Site    ‚îÇ
‚îÇ  (Render)       ‚îÇ
‚îÇ  - React App    ‚îÇ
‚îÇ  - Service      ‚îÇ
‚îÇ    Worker       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ REST API
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Web Service    ‚îÇ
‚îÇ  (Render)       ‚îÇ
‚îÇ  - Express API  ‚îÇ
‚îÇ  - Business     ‚îÇ
‚îÇ    Logic        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ Firebase Admin SDK
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Firestore     ‚îÇ
‚îÇ   (Firebase)    ‚îÇ
‚îÇ  - settings     ‚îÇ
‚îÇ  - projects     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## üìä Modelagem de Dados

### Cole√ß√£o: `settings`

**Documento**: `global_config`

```javascript
{
  rates: {
    dev_hourly: Number,      // Taxa hor√°ria desenvolvedor
    analyst_hourly: Number,  // Taxa hor√°ria analista
    infra_annual: Number,    // Custo anual infraestrutura
    license_annual: Number   // Custo anual licen√ßas RPA
  },
  baselines: {
    low: Number,    // Horas totais complexidade baixa
    medium: Number, // Horas totais complexidade m√©dia
    high: Number    // Horas totais complexidade alta
  },
  updated_at: Timestamp
}
```

### Cole√ß√£o: `projects`

**Documentos**: Um por projeto/simula√ß√£o

```javascript
{
  project_name: String,
  owner_uid: String,
  created_at: Timestamp,
  updated_at: Timestamp,
  
  inputs_as_is: {
    volume: Number,      // Volume mensal de transa√ß√µes
    aht: Number,         // Average Handle Time (minutos)
    fte_cost: Number,    // Custo mensal FTE (R$)
    error_rate: Number   // Taxa de erro humano (%)
  },
  
  complexity_input: {
    numApplications: Number,  // N√∫mero de aplica√ß√µes
    dataType: String,         // 'structured' | 'text' | 'ocr'
    environment: String,      // 'web' | 'sap' | 'citrix'
    numSteps: Number          // N√∫mero de passos/regras
  },
  
  complexity_score: {
    total_points: Number,        // Pontua√ß√£o total (4-15+)
    classification: String,      // 'LOW' | 'MEDIUM' | 'HIGH'
    hours: {
      devHours: Number,
      analystHours: Number,
      totalHours: Number
    }
  },
  
  results: {
    development_cost: Number,
    as_is_cost_annual: Number,
    to_be_cost_annual: Number,
    roi_year_1: Number,
    annual_savings: Number,
    monthly_savings: Number,
    payback_months: Number,
    cost_breakdown: {
      licenseCost: Number,
      infraCost: Number,
      maintenanceCost: Number,
      exceptionCost: Number,
      totalToBeCost: Number
    }
  }
}
```

## üßÆ Regras de Neg√≥cio

### 1. Matriz de Complexidade

A complexidade √© calculada atrav√©s de um sistema de pontua√ß√£o oculto ao usu√°rio:

**Crit√©rios e Pontua√ß√£o:**

| Crit√©rio | Op√ß√£o | Pontos |
|----------|-------|--------|
| **N¬∫ Aplica√ß√µes** | 1-2 | 1 |
| | 3-4 | 2 |
| | 5+ | 3 |
| **Tipo de Dados** | Estruturados | 1 |
| | Texto/E-mail | 2 |
| | Imagem/OCR | 5 |
| **Ambiente** | Web/Local | 1 |
| | SAP/Mainframe | 2 |
| | Citrix/Remoto | 4 |
| **N¬∫ Passos** | <20 | 1 |
| | 20-50 | 3 |
| | >50 | 5 |

**Classifica√ß√£o:**

| Pontua√ß√£o | Classifica√ß√£o | Dev | An√°lise | Total |
|-----------|---------------|-----|---------|-------|
| 4-6 | BAIXA | 80h | 24h | 104h |
| 7-11 | M√âDIA | 160h | 48h | 208h |
| 12+ | ALTA | 320h | 96h | 416h |

### 2. F√≥rmulas Financeiras

#### Custo AS-IS (Anual)

```
Custo_Minuto_FTE = fteCost / 9600
  onde 9600 = 160h/m√™s √ó 60min/h

Custo_AS_IS_Anual = (volume √ó aht √ó 12) √ó Custo_Minuto_FTE √ó (1 + errorRate/100)
```

**Exemplo:**
- Volume: 5.000 transa√ß√µes/m√™s
- AHT: 10 minutos
- FTE Cost: R$ 8.000/m√™s
- Error Rate: 5%

```
Custo_Minuto = 8000 / 9600 = R$ 0,833
Custo_AS_IS = (5000 √ó 10 √ó 12) √ó 0,833 √ó 1,05 = R$ 524.900
```

#### Custo de Desenvolvimento

```
Custo_Dev = (devHours √ó dev_hourly) + (analystHours √ó analyst_hourly)
```

**Exemplo (Complexidade M√âDIA):**
```
Custo_Dev = (160 √ó 120) + (48 √ó 150) = R$ 26.400
```

#### Custo TO-BE (Anual)

```
Custo_Licen√ßas = license_annual (padr√£o: R$ 15.000)
Custo_Infra = infra_annual (padr√£o: R$ 5.000)
Custo_Manuten√ß√£o = Custo_Dev √ó 0,15
Custo_Exce√ß√µes = 0 (simplificado)

Custo_TO_BE = Custo_Licen√ßas + Custo_Infra + Custo_Manuten√ß√£o + Custo_Exce√ß√µes
```

**Exemplo:**
```
Custo_TO_BE = 15000 + 5000 + (26400 √ó 0,15) + 0 = R$ 23.960
```

#### ROI Ano 1

```
Economia_Anual = Custo_AS_IS - Custo_TO_BE
ROI = ((Economia_Anual - Custo_Dev) / Custo_Dev) √ó 100
```

**Exemplo:**
```
Economia = 524900 - 23960 = R$ 500.940
ROI = ((500940 - 26400) / 26400) √ó 100 = 1.797%
```

#### Payback Period

```
Economia_Mensal = Economia_Anual / 12
Payback_Meses = Custo_Dev / Economia_Mensal
```

**Exemplo:**
```
Economia_Mensal = 500940 / 12 = R$ 41.745
Payback = 26400 / 41745 = 0,63 meses (~19 dias)
```

## üîÑ Fluxo de Dados

### Cria√ß√£o de Projeto

```
1. Frontend: Usu√°rio preenche wizard (4 steps)
   ‚Üì
2. Frontend: Valida dados localmente
   ‚Üì
3. Frontend: POST /api/projects
   ‚Üì
4. Backend: Valida payload
   ‚Üì
5. Backend: Busca taxas globais (Firestore)
   ‚Üì
6. Backend: Calcula complexidade (ComplexityService)
   ‚Üì
7. Backend: Calcula indicadores financeiros (FinancialService)
   ‚Üì
8. Backend: Salva projeto (Firestore)
   ‚Üì
9. Backend: Retorna resultado completo
   ‚Üì
10. Frontend: Exibe dashboard de resultados
```

### Atualiza√ß√£o de Configura√ß√µes

```
1. Admin: PUT /api/settings
   ‚Üì
2. Backend: Valida dados
   ‚Üì
3. Backend: Atualiza Firestore (settings/global_config)
   ‚Üì
4. Pr√≥ximos c√°lculos usar√£o novas taxas
```

## üîê Seguran√ßa

### Backend

- **Helmet**: Headers de seguran√ßa HTTP
- **CORS**: Configur√°vel por ambiente
- **Input Validation**: Valida√ß√£o de todos os payloads
- **Firebase Admin SDK**: Autentica√ß√£o segura com Firestore

### Frontend

- **HTTPS**: Obrigat√≥rio em produ√ß√£o
- **Input Sanitization**: Valida√ß√£o de formul√°rios
- **Environment Variables**: Credenciais via vari√°veis de ambiente
- **CSP**: Content Security Policy via Helmet

### Firestore

**Regras de Seguran√ßa (Produ√ß√£o):**

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Configura√ß√µes: leitura p√∫blica, escrita apenas via Admin SDK
    match /settings/{document=**} {
      allow read: if true;
      allow write: if false;
    }
    
    // Projetos: autentica√ß√£o futura
    match /projects/{projectId} {
      allow read, write: if request.auth != null; // TODO: Implementar
    }
  }
}
```

## üìà Performance

### Frontend

- **Code Splitting**: Vite faz automaticamente
- **Lazy Loading**: Componentes carregados sob demanda
- **Service Worker**: Cache de assets est√°ticos
- **Minifica√ß√£o**: Build otimizado para produ√ß√£o

### Backend

- **Firestore Caching**: Cache de configura√ß√µes globais
- **Async/Await**: Opera√ß√µes n√£o-bloqueantes
- **Connection Pooling**: Firebase Admin SDK gerencia

### Database

- **√çndices**: Criados automaticamente pelo Firestore
- **Queries Otimizadas**: Filtros e ordena√ß√£o no servidor
- **Pagina√ß√£o**: Preparado para implementa√ß√£o futura

## üß™ Testes (Roadmap)

### Backend

- Unit Tests: Jest
- Integration Tests: Supertest
- Coverage: >80%

### Frontend

- Unit Tests: Vitest
- Component Tests: React Testing Library
- E2E Tests: Playwright

## üì¶ Deploy

### Estrat√©gia

- **Backend**: Render Web Service (Always On em produ√ß√£o)
- **Frontend**: Render Static Site (CDN global)
- **Database**: Firebase (Multi-region)

### CI/CD (Roadmap)

```
Git Push ‚Üí GitHub Actions ‚Üí Tests ‚Üí Build ‚Üí Deploy
```

## üîÆ Roadmap Futuro

### Fase 2: Autentica√ß√£o
- Firebase Authentication
- Login com Google/Microsoft
- Controle de acesso por usu√°rio

### Fase 3: Colabora√ß√£o
- Compartilhamento de projetos
- Coment√°rios e anota√ß√µes
- Hist√≥rico de vers√µes

### Fase 4: Analytics
- Dashboard executivo
- Compara√ß√£o de projetos
- Exporta√ß√£o para Excel/PDF

### Fase 5: IA/ML
- Sugest√µes de otimiza√ß√£o
- Previs√£o de ROI baseada em hist√≥rico
- Detec√ß√£o de anomalias

## üìö Refer√™ncias

- [React Documentation](https://react.dev)
- [Material UI](https://mui.com)
- [Firebase Documentation](https://firebase.google.com/docs)
- [Express.js](https://expressjs.com)
- [Render Documentation](https://render.com/docs)

## üìÑ Licen√ßa

Proprietary - Uso Corporativo

---

**Vers√£o**: 1.0.0  
**√öltima Atualiza√ß√£o**: 2024-01-15  
**Autor**: Arquiteto de Software S√™nior


==================================================================
ARQUIVO: \backend\package.json
==================================================================

{
  "name": "rpa-roi-navigator-backend",
  "version": "1.0.0",
  "description": "Backend API for RPA ROI Calculator",
  "main": "src/server.js",
  "type": "module",
  "scripts": {
    "start": "node src/server.js",
    "dev": "nodemon src/server.js"
  },
  "keywords": ["rpa", "roi", "calculator", "automation"],
  "author": "",
  "license": "ISC",
  "dependencies": {
    "express": "^4.18.2",
    "cors": "^2.8.5",
    "dotenv": "^16.3.1",
    "firebase-admin": "^12.0.0",
    "helmet": "^7.1.0",
    "morgan": "^1.10.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.2"
  }
}


==================================================================
ARQUIVO: \backend\README.md
==================================================================

# Backend - RPA ROI Navigator API

API REST para c√°lculo de ROI de automa√ß√µes RPA.

## üöÄ Tecnologias

- Node.js + Express
- Firebase Firestore
- Helmet (Seguran√ßa)
- Morgan (Logging)
- CORS

## üìã Pr√©-requisitos

- Node.js 18+ instalado
- Conta Firebase com Firestore habilitado
- Credenciais do Firebase Admin SDK

## üîß Instala√ß√£o

1. Instale as depend√™ncias:
```bash
npm install
```

2. Configure as vari√°veis de ambiente:
```bash
cp .env.example .env
```

3. Edite o arquivo `.env` com suas credenciais do Firebase:
```env
PORT=5000
FIREBASE_PROJECT_ID=seu-projeto-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@seu-projeto.iam.gserviceaccount.com
```

## üèÉ Executando

### Desenvolvimento
```bash
npm run dev
```

### Produ√ß√£o
```bash
npm start
```

O servidor estar√° dispon√≠vel em `http://localhost:5000`

## üìö Endpoints

### Health Check
```
GET /api/health
```

### Projetos
```
POST   /api/projects          - Criar novo projeto
GET    /api/projects/:id      - Buscar projeto por ID
GET    /api/projects          - Listar projetos (query: ownerUid)
PUT    /api/projects/:id      - Atualizar projeto
DELETE /api/projects/:id      - Deletar projeto
```

### Configura√ß√µes
```
GET /api/settings             - Buscar configura√ß√µes globais
PUT /api/settings             - Atualizar configura√ß√µes globais
```

## üìä Exemplo de Payload

### Criar Projeto
```json
{
  "projectName": "Automa√ß√£o de Faturamento",
  "ownerUid": "user123",
  "inputs": {
    "volume": 5000,
    "aht": 10,
    "fteCost": 8000,
    "errorRate": 5
  },
  "complexity": {
    "numApplications": 3,
    "dataType": "structured",
    "environment": "web",
    "numSteps": 25
  }
}
```

## üîê Seguran√ßa

- Helmet para headers de seguran√ßa
- CORS configur√°vel
- Valida√ß√£o de inputs
- Firebase Admin SDK para autentica√ß√£o segura

## üì¶ Deploy (Render)

1. Conecte o reposit√≥rio no Render
2. Configure como Web Service
3. Build Command: `npm install`
4. Start Command: `npm start`
5. Adicione as vari√°veis de ambiente no painel do Render

## üìÑ Licen√ßa

Proprietary - Uso Corporativo


==================================================================
ARQUIVO: \backend\src\config\firebase.js
==================================================================

import admin from 'firebase-admin';
import dotenv from 'dotenv';

dotenv.config();

// Fun√ß√£o para garantir que s√≥ inicializa uma vez
const ensureInitialized = () => {
  if (!admin.apps.length) {
    try {
      const privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g, '\n');
      
      if (!privateKey || !process.env.FIREBASE_PROJECT_ID || !process.env.FIREBASE_CLIENT_EMAIL) {
         throw new Error("Vari√°veis de ambiente do Firebase n√£o encontradas.");
      }

      admin.initializeApp({
        credential: admin.credential.cert({
          projectId: process.env.FIREBASE_PROJECT_ID,
          privateKey: privateKey,
          clientEmail: process.env.FIREBASE_CLIENT_EMAIL,
        }),
      });
      console.log('‚úÖ Firebase Admin initialized successfully (Auto-Start)');
    } catch (error) {
      console.error('‚ùå Error initializing Firebase Admin:', error.message);
      // N√£o damos exit aqui para n√£o quebrar testes, mas logamos o erro cr√≠tico
    }
  }
};

// Executa a inicializa√ß√£o imediatamente ao importar este arquivo
ensureInitialized();

const initializeFirebase = () => {
  ensureInitialized();
};

const getFirestore = () => {
  ensureInitialized(); // Garante dupla verifica√ß√£o antes de pegar o banco
  return admin.firestore();
};

export { initializeFirebase, getFirestore };

==================================================================
ARQUIVO: \backend\src\controllers\projectController.js
==================================================================

import ProjectService from '../services/projectService.js';

const projectService = new ProjectService();

/**
 * Controller para opera√ß√µes de projetos
 */
class ProjectController {
    /**
     * POST /api/projects - Cria um novo projeto
     */
    async createProject(req, res) {
        try {
            const { projectName, ownerUid, inputs, complexity } = req.body;

            // Valida√ß√£o b√°sica
            if (!projectName || !inputs || !complexity) {
                return res.status(400).json({
                    success: false,
                    error: 'Missing required fields: projectName, inputs, complexity',
                });
            }

            // Validar inputs
            if (!inputs.volume || !inputs.aht || !inputs.fteCost) {
                return res.status(400).json({
                    success: false,
                    error: 'Missing required inputs: volume, aht, fteCost',
                });
            }

            // Validar complexity
            if (
                complexity.numApplications === undefined ||
                !complexity.dataType ||
                !complexity.environment ||
                complexity.numSteps === undefined
            ) {
                return res.status(400).json({
                    success: false,
                    error: 'Missing required complexity fields',
                });
            }

            const project = await projectService.createProject({
                projectName,
                ownerUid,
                inputs,
                complexity,
            });

            res.status(201).json({
                success: true,
                data: project,
            });
        } catch (error) {
            console.error('Error in createProject:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }

    /**
     * GET /api/projects/:id - Busca um projeto por ID
     */
    async getProject(req, res) {
        try {
            const { id } = req.params;
            const project = await projectService.getProject(id);

            res.status(200).json({
                success: true,
                data: project,
            });
        } catch (error) {
            console.error('Error in getProject:', error);

            if (error.message === 'Project not found') {
                return res.status(404).json({
                    success: false,
                    error: 'Project not found',
                });
            }

            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }

    /**
     * GET /api/projects - Lista projetos de um usu√°rio
     */
    async listProjects(req, res) {
        try {
            const { ownerUid } = req.query;

            if (!ownerUid) {
                return res.status(400).json({
                    success: false,
                    error: 'Missing ownerUid query parameter',
                });
            }

            const projects = await projectService.listProjects(ownerUid);

            res.status(200).json({
                success: true,
                data: projects,
            });
        } catch (error) {
            console.error('Error in listProjects:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }

    /**
     * PUT /api/projects/:id - Atualiza um projeto
     */
    async updateProject(req, res) {
        try {
            const { id } = req.params;
            const updates = req.body;

            const project = await projectService.updateProject(id, updates);

            res.status(200).json({
                success: true,
                data: project,
            });
        } catch (error) {
            console.error('Error in updateProject:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }

    /**
     * DELETE /api/projects/:id - Deleta um projeto
     */
    async deleteProject(req, res) {
        try {
            const { id } = req.params;
            const result = await projectService.deleteProject(id);

            res.status(200).json({
                success: true,
                data: result,
            });
        } catch (error) {
            console.error('Error in deleteProject:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }
}

export default new ProjectController();


==================================================================
ARQUIVO: \backend\src\controllers\settingsController.js
==================================================================

import { getFirestore } from '../config/firebase.js';

/**
 * Controller para configura√ß√µes globais
 */
class SettingsController {
    constructor() {
        this.db = getFirestore();
    }

    /**
     * GET /api/settings - Busca configura√ß√µes globais
     */
    async getSettings(req, res) {
        try {
            const doc = await this.db.collection('settings').doc('global_config').get();

            if (!doc.exists) {
                // Retorna configura√ß√µes padr√£o
                const defaultSettings = {
                    rates: {
                        dev_hourly: 120.0,
                        analyst_hourly: 150.0,
                        infra_annual: 5000.0,
                        license_annual: 15000.0,
                    },
                    baselines: {
                        low: 104,
                        medium: 208,
                        high: 416,
                    },
                };

                return res.status(200).json({
                    success: true,
                    data: defaultSettings,
                });
            }

            res.status(200).json({
                success: true,
                data: doc.data(),
            });
        } catch (error) {
            console.error('Error fetching settings:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }

    /**
     * PUT /api/settings - Atualiza configura√ß√µes globais
     */
    async updateSettings(req, res) {
        try {
            const updates = req.body;

            await this.db.collection('settings').doc('global_config').set(updates, { merge: true });

            const updatedDoc = await this.db.collection('settings').doc('global_config').get();

            res.status(200).json({
                success: true,
                data: updatedDoc.data(),
            });
        } catch (error) {
            console.error('Error updating settings:', error);
            res.status(500).json({
                success: false,
                error: error.message || 'Internal server error',
            });
        }
    }
}

export default new SettingsController();


==================================================================
ARQUIVO: \backend\src\routes\index.js
==================================================================

import express from 'express';
import projectController from '../controllers/projectController.js';
import settingsController from '../controllers/settingsController.js';

const router = express.Router();

// Health check
router.get('/health', (req, res) => {
    res.status(200).json({
        success: true,
        message: 'RPA ROI Navigator API is running',
        timestamp: new Date().toISOString(),
    });
});

// Projects routes
router.post('/projects', projectController.createProject.bind(projectController));
router.get('/projects/:id', projectController.getProject.bind(projectController));
router.get('/projects', projectController.listProjects.bind(projectController));
router.put('/projects/:id', projectController.updateProject.bind(projectController));
router.delete('/projects/:id', projectController.deleteProject.bind(projectController));

// Settings routes
router.get('/settings', settingsController.getSettings.bind(settingsController));
router.put('/settings', settingsController.updateSettings.bind(settingsController));

export default router;


==================================================================
ARQUIVO: \backend\src\scripts\initFirestore.js
==================================================================

// backend/src/scripts/initFirestore.js
import admin from 'firebase-admin';
import dotenv from 'dotenv';

dotenv.config();

const initializeFirestore = async () => {
    try {
        const privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g, '\n');
        
        if (!admin.apps.length) {
            admin.initializeApp({
                credential: admin.credential.cert({
                    projectId: process.env.FIREBASE_PROJECT_ID,
                    privateKey: privateKey,
                    clientEmail: process.env.FIREBASE_CLIENT_EMAIL,
                }),
            });
        }
        
        const db = admin.firestore();
        console.log('üî• Atualizando Firestore com estrutura Enterprise...');

        // Nova Configura√ß√£o Global "Enterprise"
        const globalConfig = {
            // Defini√ß√£o da Squad e Custo Ponderado
            team_composition: [
                { role: 'Desenvolvedor RPA', rate: 120.0, share: 0.60 }, // 60% do tempo
                { role: 'Analista de Neg√≥cios', rate: 150.0, share: 0.20 }, // 20% do tempo
                { role: 'Arquiteto de Solu√ß√µes', rate: 190.0, share: 0.10 }, // 10% do tempo
                { role: 'Gerente de Projetos (GP)', rate: 170.0, share: 0.10 } // 10% do tempo
            ],
            infra_costs: {
                virtual_machine_annual: 5000.0,
                rpa_license_annual: 15000.0,
                database_annual: 2000.0
            },
            baselines: {
                low: 100,    // Horas totais do projeto
                medium: 240,
                high: 480
            },
            updated_at: new Date().toISOString(),
        };

        await db.collection('settings').doc('global_config').set(globalConfig);
        console.log('‚úÖ Configura√ß√µes Enterprise aplicadas com sucesso!');
        process.exit(0);
    } catch (error) {
        console.error('‚ùå Erro:', error);
        process.exit(1);
    }
};

initializeFirestore();

==================================================================
ARQUIVO: \backend\src\scripts\setAdmin.js
==================================================================

// backend/src/scripts/setAdmin.js
import admin from 'firebase-admin';
import dotenv from 'dotenv';
import readline from 'readline';

dotenv.config();

// Inicializa√ß√£o do Firebase (igual ao initFirestore, mas focado no Auth)
const initializeApp = () => {
    if (!admin.apps.length) {
        const privateKey = process.env.FIREBASE_PRIVATE_KEY?.replace(/\\n/g, '\n');
        admin.initializeApp({
            credential: admin.credential.cert({
                projectId: process.env.FIREBASE_PROJECT_ID,
                privateKey: privateKey,
                clientEmail: process.env.FIREBASE_CLIENT_EMAIL,
            }),
        });
    }
    return admin.firestore();
};

const rl = readline.createInterface({
    input: process.stdin,
    output: process.stdout
});

const setAdmin = async () => {
    const db = initializeApp();
    const auth = admin.auth();

    console.log('\nüëë --- RPA ROI Navigator: Configurar Administrador ---\n');

    rl.question('Digite o EMAIL do usu√°rio que ser√° ADMIN: ', async (email) => {
        try {
            // 1. Achar o usu√°rio no Auth para pegar o UID
            console.log(`üîç Buscando usu√°rio ${email}...`);
            const userRecord = await auth.getUserByEmail(email);
            const uid = userRecord.uid;

            console.log(`‚úÖ Usu√°rio encontrado! UID: ${uid}`);

            // 2. Criar ou atualizar o documento na cole√ß√£o 'users' com a role 'admin'
            // Usamos merge: true para n√£o apagar outros dados se existirem
            await db.collection('users').doc(uid).set({
                email: email,
                role: 'admin',
                updated_at: new Date().toISOString()
            }, { merge: true });

            console.log(`üéâ SUCESSO! O usu√°rio ${email} agora √© um ADMINISTRADOR.`);
            console.log('Ele ter√° acesso ao menu "Configura√ß√µes" no pr√≥ximo login.\n');

        } catch (error) {
            if (error.code === 'auth/user-not-found') {
                console.error('‚ùå Erro: Usu√°rio n√£o encontrado no Firebase Auth. Crie a conta primeiro via App.');
            } else {
                console.error('‚ùå Erro inesperado:', error.message);
            }
        } finally {
            rl.close();
            process.exit(0);
        }
    });
};

setAdmin();

==================================================================
ARQUIVO: \backend\src\server.js
==================================================================

import express from 'express';
import cors from 'cors';
import helmet from 'helmet';
import morgan from 'morgan';
import dotenv from 'dotenv';
import { initializeFirebase } from './config/firebase.js';
import routes from './routes/index.js';

// Carregar vari√°veis de ambiente
dotenv.config();

// Inicializar Firebase
initializeFirebase();

// Criar aplica√ß√£o Express
const app = express();
const PORT = process.env.PORT || 5000;

// Middlewares
app.use(helmet()); // Seguran√ßa
app.use(morgan('dev')); // Logging
app.use(express.json()); // Parse JSON
app.use(express.urlencoded({ extended: true })); // Parse URL-encoded

// CORS
const allowedOrigins = process.env.ALLOWED_ORIGINS
    ? process.env.ALLOWED_ORIGINS.split(',')
    : ['http://localhost:5173', 'http://localhost:3000'];

app.use(
    cors({
        origin: (origin, callback) => {
            // Permitir requisi√ß√µes sem origin (mobile apps, Postman, etc)
            if (!origin) return callback(null, true);

            if (allowedOrigins.includes(origin)) {
                callback(null, true);
            } else {
                callback(new Error('Not allowed by CORS'));
            }
        },
        credentials: true,
    })
);

// Rotas
app.use('/api', routes);

// Rota raiz
app.get('/', (req, res) => {
    res.json({
        message: 'RPA ROI Navigator API',
        version: '1.0.0',
        endpoints: {
            health: '/api/health',
            projects: '/api/projects',
            settings: '/api/settings',
        },
    });
});

// Error handler
app.use((err, req, res, next) => {
    console.error('Error:', err);
    res.status(err.status || 500).json({
        success: false,
        error: err.message || 'Internal server error',
    });
});

// 404 handler
app.use((req, res) => {
    res.status(404).json({
        success: false,
        error: 'Route not found',
    });
});

// Iniciar servidor
app.listen(PORT, () => {
    console.log(`üöÄ Server running on port ${PORT}`);
    console.log(`üìç Environment: ${process.env.NODE_ENV || 'development'}`);
    console.log(`üåê CORS enabled for: ${allowedOrigins.join(', ')}`);
});

export default app;


==================================================================
ARQUIVO: \backend\src\services\calculationService.js
==================================================================

import { getFirestore } from '../config/firebase.js';

/**
 * Servi√ßo de C√°lculo de Complexidade
 * Implementa a Matriz de Complexidade baseada em scoring
 */
class ComplexityService {
    /**
     * Calcula a pontua√ß√£o de complexidade baseada nos crit√©rios
     */
    calculateComplexityScore(complexity) {
        let totalPoints = 0;

        // 1. N√∫mero de Aplica√ß√µes
        const numApps = complexity.numApplications || 0;
        if (numApps <= 2) totalPoints += 1;
        else if (numApps <= 4) totalPoints += 2;
        else totalPoints += 3;

        // 2. Tipo de Dados
        const dataType = complexity.dataType || 'structured';
        switch (dataType) {
            case 'structured': totalPoints += 1; break;
            case 'text': totalPoints += 2; break;
            case 'ocr': totalPoints += 5; break;
            default: totalPoints += 1;
        }

        // 3. Ambiente
        const environment = complexity.environment || 'web';
        switch (environment) {
            case 'web': totalPoints += 1; break;
            case 'sap': totalPoints += 2; break;
            case 'citrix': totalPoints += 4; break;
            default: totalPoints += 1;
        }

        // 4. Regras/Passos
        const numSteps = complexity.numSteps || 0;
        if (numSteps < 20) totalPoints += 1;
        else if (numSteps <= 50) totalPoints += 3;
        else totalPoints += 5;

        // Classifica√ß√£o
        let classification = 'LOW';
        if (totalPoints >= 12) classification = 'HIGH';
        else if (totalPoints >= 7) classification = 'MEDIUM';

        return {
            totalPoints,
            classification,
        };
    }
}

/**
 * Servi√ßo de C√°lculo Financeiro
 * Implementa as f√≥rmulas de ROI, Payback e custos (Vers√£o Enterprise)
 */
class FinancialService {
    constructor() {
        this.db = getFirestore();
    }

    /**
     * Busca as taxas globais do Firestore
     */
    async getGlobalRates() {
        try {
            const settingsDoc = await this.db.collection('settings').doc('global_config').get();
            if (!settingsDoc.exists) {
                // Fallback de seguran√ßa se o banco estiver vazio
                return {
                    team_composition: [{ role: 'Dev Padr√£o', rate: 120.0, share: 1.0 }],
                    infra_costs: { rpa_license_annual: 15000.0, virtual_machine_annual: 5000.0 },
                    baselines: { low: 100, medium: 240, high: 480 }
                };
            }
            return settingsDoc.data();
        } catch (error) {
            console.error('Error fetching global rates:', error);
            throw new Error('Failed to fetch global configuration');
        }
    }

    /**
     * Calcula o custo AS-IS (situa√ß√£o atual)
     */
    calculateAsIsCost(inputs) {
        const { volume, aht, fteCost, errorRate = 0 } = inputs;
        // Custo por minuto do FTE (assumindo 160h/m√™s = 9600min/m√™s)
        const costPerMinute = fteCost / 9600;
        // Custo AS-IS Anual
        const asIsCost = (volume * aht * 12) * costPerMinute * (1 + errorRate / 100);
        return Math.round(asIsCost * 100) / 100;
    }

    /**
     * Calcula o custo de desenvolvimento baseado no Mix da Squad
     */
    calculateDevelopmentCost(totalHours, teamComposition) {
        // Fallback se n√£o houver composi√ß√£o definida
        if (!teamComposition || teamComposition.length === 0) {
            return totalHours * 120; // Taxa padr√£o de seguran√ßa
        }

        // Custo Blended (Misturado) = Soma (Taxa * %Participa√ß√£o)
        let blendedHourlyRate = 0;
        teamComposition.forEach(member => {
            blendedHourlyRate += (member.rate * member.share);
        });

        const totalCost = totalHours * blendedHourlyRate;
        return Math.round(totalCost * 100) / 100;
    }

    /**
     * Calcula o per√≠odo de payback em meses
     */
    calculatePayback(developmentCost, monthlySavings) {
        if (monthlySavings <= 0) return null; // Nunca haver√° payback
        const months = developmentCost / monthlySavings;
        return Math.round(months * 10) / 10;
    }

    /**
     * Calcula todos os indicadores financeiros (Enterprise)
     */
    async calculateFullROI(inputs, complexity) {
        // 1. Carregar configura√ß√µes do banco
        const config = await this.getGlobalRates();
        
        // 2. Calcular complexidade e horas
        const complexityService = new ComplexityService();
        const complexityScore = complexityService.calculateComplexityScore(complexity);
        
        // Mapeia a classifica√ß√£o para horas (fallback se n√£o existir no banco)
        const baselines = config.baselines || { low: 100, medium: 240, high: 480 };
        const totalHours = baselines[complexityScore.classification.toLowerCase()];

        // 3. Custo de Desenvolvimento (Squad Ponderada)
        // Garante fallback se team_composition n√£o existir
        const teamComp = config.team_composition || [{ role: 'Dev', rate: 120, share: 1 }];
        const developmentCost = this.calculateDevelopmentCost(totalHours, teamComp);

        // 4. Custo AS-IS (Atual)
        const asIsCost = this.calculateAsIsCost(inputs);

        // 5. Custo TO-BE (Licen√ßas + Infra + Manuten√ß√£o)
        // Garante fallback de custos de infra
        const infraCosts = config.infra_costs || { 
            rpa_license_annual: 15000, 
            virtual_machine_annual: 5000,
            database_annual: 0 
        };

        const annualInfraCost = Object.values(infraCosts).reduce((a, b) => a + b, 0);
        const maintenanceCost = developmentCost * 0.15; // 15% do dev para sustenta√ß√£o
        const totalToBeCost = annualInfraCost + maintenanceCost;

        // 6. ROI e Payback
        const annualSavings = asIsCost - totalToBeCost;
        const roi = ((annualSavings - developmentCost) / developmentCost) * 100;
        const monthlySavings = annualSavings / 12;
        const paybackMonths = this.calculatePayback(developmentCost, monthlySavings);

        return {
            complexity: {
                score: complexityScore.totalPoints,
                classification: complexityScore.classification,
                hours: { totalHours }
            },
            costs: {
                asIs: { 
                    annual: asIsCost, 
                    monthly: Math.round((asIsCost / 12) * 100) / 100 
                },
                development: developmentCost,
                toBe: {
                    licenseCost: infraCosts.rpa_license_annual,
                    infraCost: infraCosts.virtual_machine_annual + (infraCosts.database_annual || 0),
                    maintenanceCost,
                    totalToBeCost,
                    annual: totalToBeCost
                },
            },
            roi: {
                year1: Math.round(roi * 100) / 100,
                annualSavings: Math.round(annualSavings * 100) / 100,
                monthlySavings: Math.round(monthlySavings * 100) / 100,
                paybackMonths,
            },
        };
    }
}

export { ComplexityService, FinancialService };

==================================================================
ARQUIVO: \backend\src\services\projectService.js
==================================================================

import { getFirestore } from '../config/firebase.js';
import { FinancialService } from './calculationService.js';

/**
 * Servi√ßo para gerenciar projetos no Firestore
 */
class ProjectService {
    constructor() {
        this.db = getFirestore();
        this.financialService = new FinancialService();
    }

    /**
     * Cria um novo projeto/simula√ß√£o
     * @param {Object} projectData - Dados do projeto
     * @returns {Object} - Projeto criado com ID
     */
    async createProject(projectData) {
        try {
            const { projectName, ownerUid, inputs, complexity } = projectData;

            // Calcular todos os indicadores
            const results = await this.financialService.calculateFullROI(inputs, complexity);

            // Estrutura do documento
            const project = {
                project_name: projectName,
                owner_uid: ownerUid || 'anonymous',
                created_at: new Date().toISOString(),
                updated_at: new Date().toISOString(),
                inputs_as_is: {
                    volume: inputs.volume,
                    aht: inputs.aht,
                    fte_cost: inputs.fteCost,
                    error_rate: inputs.errorRate || 0,
                },
                complexity_input: complexity,
                complexity_score: {
                    total_points: results.complexity.score,
                    classification: results.complexity.classification,
                    hours: results.complexity.hours,
                },
                results: {
                    development_cost: results.costs.development,
                    as_is_cost_annual: results.costs.asIs.annual,
                    to_be_cost_annual: results.costs.toBe.annual,
                    roi_year_1: results.roi.year1,
                    annual_savings: results.roi.annualSavings,
                    monthly_savings: results.roi.monthlySavings,
                    payback_months: results.roi.paybackMonths,
                    cost_breakdown: results.costs.toBe,
                },
            };

            // Salvar no Firestore
            const docRef = await this.db.collection('projects').add(project);

            return {
                id: docRef.id,
                ...project,
            };
        } catch (error) {
            console.error('Error creating project:', error);
            throw new Error('Failed to create project');
        }
    }

    /**
     * Busca um projeto por ID
     * @param {String} projectId - ID do projeto
     * @returns {Object} - Dados do projeto
     */
    async getProject(projectId) {
        try {
            const doc = await this.db.collection('projects').doc(projectId).get();

            if (!doc.exists) {
                throw new Error('Project not found');
            }

            return {
                id: doc.id,
                ...doc.data(),
            };
        } catch (error) {
            console.error('Error fetching project:', error);
            throw error;
        }
    }

    /**
     * Lista todos os projetos de um usu√°rio
     * @param {String} ownerUid - ID do usu√°rio
     * @returns {Array} - Lista de projetos
     */
    async listProjects(ownerUid) {
        try {
            const snapshot = await this.db
                .collection('projects')
                .where('owner_uid', '==', ownerUid)
                .orderBy('created_at', 'desc')
                .get();

            const projects = [];
            snapshot.forEach((doc) => {
                projects.push({
                    id: doc.id,
                    ...doc.data(),
                });
            });

            return projects;
        } catch (error) {
            console.error('Error listing projects:', error);
            throw new Error('Failed to list projects');
        }
    }

    /**
     * Atualiza um projeto existente
     * @param {String} projectId - ID do projeto
     * @param {Object} updates - Dados a atualizar
     * @returns {Object} - Projeto atualizado
     */
    async updateProject(projectId, updates) {
        try {
            const updateData = {
                ...updates,
                updated_at: new Date().toISOString(),
            };

            await this.db.collection('projects').doc(projectId).update(updateData);

            return await this.getProject(projectId);
        } catch (error) {
            console.error('Error updating project:', error);
            throw new Error('Failed to update project');
        }
    }

    /**
     * Deleta um projeto
     * @param {String} projectId - ID do projeto
     */
    async deleteProject(projectId) {
        try {
            await this.db.collection('projects').doc(projectId).delete();
            return { success: true, message: 'Project deleted successfully' };
        } catch (error) {
            console.error('Error deleting project:', error);
            throw new Error('Failed to delete project');
        }
    }
}

export default ProjectService;


==================================================================
ARQUIVO: \DEPLOY.md
==================================================================

# üöÄ Guia de Deploy - RPA ROI Navigator

Este guia detalha o processo de deploy da aplica√ß√£o no Render.

## üìã Pr√©-requisitos

1. Conta no [Render](https://render.com)
2. Conta no [Firebase](https://firebase.google.com)
3. Reposit√≥rio Git (GitHub, GitLab ou Bitbucket)
4. Credenciais do Firebase Admin SDK

## üî• Configura√ß√£o do Firebase

### 1. Criar Projeto Firebase

1. Acesse o [Console do Firebase](https://console.firebase.google.com)
2. Clique em "Adicionar projeto"
3. Siga o assistente de cria√ß√£o

### 2. Habilitar Firestore

1. No menu lateral, clique em "Firestore Database"
2. Clique em "Criar banco de dados"
3. Escolha o modo de produ√ß√£o
4. Selecione a regi√£o (southamerica-east1 para Brasil)

### 3. Obter Credenciais Admin SDK

1. V√° em "Configura√ß√µes do projeto" (√≠cone de engrenagem)
2. Aba "Contas de servi√ßo"
3. Clique em "Gerar nova chave privada"
4. Salve o arquivo JSON

### 4. Obter Credenciais Client SDK

1. Na mesma tela de configura√ß√µes
2. Role at√© "Seus aplicativos"
3. Clique no √≠cone Web (</>)
4. Copie as configura√ß√µes do Firebase

### 5. Inicializar Firestore

No backend, ap√≥s configurar o `.env`:

```bash
cd backend
node src/scripts/initFirestore.js
```

## üåê Deploy do Backend (Render Web Service)

### 1. Criar Web Service

1. Acesse o [Dashboard do Render](https://dashboard.render.com)
2. Clique em "New +" ‚Üí "Web Service"
3. Conecte seu reposit√≥rio Git
4. Configure:
   - **Name**: `rpa-roi-navigator-api`
   - **Region**: Oregon (US West) ou Frankfurt (EU)
   - **Branch**: `main`
   - **Root Directory**: `backend`
   - **Runtime**: Node
   - **Build Command**: `npm install`
   - **Start Command**: `npm start`
   - **Instance Type**: Free (ou Starter para produ√ß√£o)

### 2. Configurar Vari√°veis de Ambiente

Na se√ß√£o "Environment Variables", adicione:

```
PORT=5000
NODE_ENV=production
FIREBASE_PROJECT_ID=seu-projeto-id
FIREBASE_PRIVATE_KEY=-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@seu-projeto.iam.gserviceaccount.com
ALLOWED_ORIGINS=https://seu-frontend.onrender.com
```

**Importante**: Para a `FIREBASE_PRIVATE_KEY`, copie o conte√∫do do arquivo JSON baixado, campo `private_key`, mantendo os `\n`.

### 3. Deploy

1. Clique em "Create Web Service"
2. Aguarde o deploy (3-5 minutos)
3. Anote a URL gerada (ex: `https://rpa-roi-navigator-api.onrender.com`)

### 4. Testar

```bash
curl https://rpa-roi-navigator-api.onrender.com/api/health
```

Deve retornar:
```json
{
  "success": true,
  "message": "RPA ROI Navigator API is running",
  "timestamp": "2024-..."
}
```

## üé® Deploy do Frontend (Render Static Site)

### 1. Criar Static Site

1. No Dashboard do Render, clique em "New +" ‚Üí "Static Site"
2. Conecte o mesmo reposit√≥rio
3. Configure:
   - **Name**: `rpa-roi-navigator`
   - **Branch**: `main`
   - **Root Directory**: `frontend`
   - **Build Command**: `npm install && npm run build`
   - **Publish Directory**: `dist`

### 2. Configurar Vari√°veis de Ambiente

Na se√ß√£o "Environment Variables":

```
VITE_API_URL=https://rpa-roi-navigator-api.onrender.com
VITE_FIREBASE_API_KEY=sua-api-key
VITE_FIREBASE_AUTH_DOMAIN=seu-projeto.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=seu-projeto-id
VITE_FIREBASE_STORAGE_BUCKET=seu-projeto.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
```

### 3. Deploy

1. Clique em "Create Static Site"
2. Aguarde o build (2-4 minutos)
3. Acesse a URL gerada (ex: `https://rpa-roi-navigator.onrender.com`)

## üîÑ Atualizar CORS no Backend

Ap√≥s o deploy do frontend, atualize a vari√°vel `ALLOWED_ORIGINS` no backend:

```
ALLOWED_ORIGINS=https://rpa-roi-navigator.onrender.com,http://localhost:5173
```

Clique em "Manual Deploy" ‚Üí "Deploy latest commit" para aplicar.

## üìä Regras de Seguran√ßa do Firestore

No Console do Firebase, v√° em "Firestore Database" ‚Üí "Regras":

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Permitir leitura das configura√ß√µes globais
    match /settings/{document=**} {
      allow read: if true;
      allow write: if false; // Apenas via Admin SDK
    }
    
    // Projetos: permitir leitura/escrita (adicionar autentica√ß√£o futuramente)
    match /projects/{projectId} {
      allow read, write: if true; // TODO: Adicionar autentica√ß√£o
    }
  }
}
```

Clique em "Publicar".

## ‚úÖ Checklist de Deploy

- [ ] Firebase criado e Firestore habilitado
- [ ] Credenciais Admin SDK obtidas
- [ ] Credenciais Client SDK obtidas
- [ ] Firestore inicializado com dados padr√£o
- [ ] Backend deployado no Render
- [ ] Vari√°veis de ambiente do backend configuradas
- [ ] Health check do backend funcionando
- [ ] Frontend deployado no Render
- [ ] Vari√°veis de ambiente do frontend configuradas
- [ ] CORS atualizado no backend
- [ ] Regras de seguran√ßa do Firestore configuradas
- [ ] Aplica√ß√£o testada end-to-end

## üîß Troubleshooting

### Backend n√£o inicia

- Verifique os logs no Render
- Confirme que a `FIREBASE_PRIVATE_KEY` est√° correta (com `\n`)
- Teste localmente com as mesmas vari√°veis

### CORS Error

- Verifique se a URL do frontend est√° em `ALLOWED_ORIGINS`
- Certifique-se de usar HTTPS em produ√ß√£o

### Firestore Permission Denied

- Verifique as regras de seguran√ßa
- Confirme que as credenciais est√£o corretas

### Build do Frontend falha

- Verifique se todas as vari√°veis `VITE_*` est√£o configuradas
- Teste o build localmente: `npm run build`

## üìà Monitoramento

### Render

- Acesse o dashboard de cada servi√ßo
- Monitore logs em tempo real
- Configure alertas de downtime

### Firebase

- Console do Firebase ‚Üí "Uso e faturamento"
- Monitore leituras/escritas do Firestore
- Configure alertas de quota

## üéâ Pronto!

Sua aplica√ß√£o est√° no ar! Acesse:

- **Frontend**: `https://rpa-roi-navigator.onrender.com`
- **API**: `https://rpa-roi-navigator-api.onrender.com`

## üìû Suporte

Para problemas ou d√∫vidas:
- Documenta√ß√£o do Render: https://render.com/docs
- Documenta√ß√£o do Firebase: https://firebase.google.com/docs


==================================================================
ARQUIVO: \EXAMPLES.md
==================================================================

# üìù Exemplos e Casos de Teste - RPA ROI Navigator

Este documento cont√©m exemplos pr√°ticos de uso e casos de teste para valida√ß√£o.

## üéØ Casos de Uso

### Caso 1: Automa√ß√£o Simples (Complexidade BAIXA)

**Cen√°rio**: Automa√ß√£o de extra√ß√£o de dados de planilhas Excel para sistema web.

**Inputs AS-IS:**
- Volume Mensal: 2.000 transa√ß√µes
- AHT: 5 minutos
- Custo FTE: R$ 6.000/m√™s
- Taxa de Erro: 2%

**Complexidade:**
- N¬∫ Aplica√ß√µes: 2 (Excel + Web)
- Tipo de Dados: Estruturados
- Ambiente: Web
- N¬∫ Passos: 15

**Pontua√ß√£o Esperada**: 1 + 1 + 1 + 1 = 4 pontos ‚Üí **BAIXA**

**Resultados Esperados:**
- Horas de Desenvolvimento: 80h dev + 24h an√°lise = 104h
- Custo de Desenvolvimento: (80 √ó R$ 120) + (24 √ó R$ 150) = R$ 13.200
- Custo AS-IS Anual: (2000 √ó 5 √ó 12) √ó (6000/9600) √ó 1,02 = R$ 76.500
- Custo TO-BE Anual: R$ 15.000 + R$ 5.000 + (R$ 13.200 √ó 0,15) = R$ 21.980
- Economia Anual: R$ 76.500 - R$ 21.980 = R$ 54.520
- ROI Ano 1: ((54.520 - 13.200) / 13.200) √ó 100 = **313%**
- Payback: 13.200 / (54.520/12) = **2,9 meses**

---

### Caso 2: Automa√ß√£o M√©dia (Complexidade M√âDIA)

**Cen√°rio**: Automa√ß√£o de processamento de faturas com valida√ß√£o de dados.

**Inputs AS-IS:**
- Volume Mensal: 5.000 transa√ß√µes
- AHT: 10 minutos
- Custo FTE: R$ 8.000/m√™s
- Taxa de Erro: 5%

**Complexidade:**
- N¬∫ Aplica√ß√µes: 3 (ERP + E-mail + Web)
- Tipo de Dados: Estruturados
- Ambiente: Web
- N¬∫ Passos: 25

**Pontua√ß√£o Esperada**: 2 + 1 + 1 + 3 = 7 pontos ‚Üí **M√âDIA**

**Resultados Esperados:**
- Horas: 160h dev + 48h an√°lise = 208h
- Custo Dev: (160 √ó 120) + (48 √ó 150) = R$ 26.400
- Custo AS-IS: (5000 √ó 10 √ó 12) √ó (8000/9600) √ó 1,05 = R$ 524.900
- Custo TO-BE: 15.000 + 5.000 + (26.400 √ó 0,15) = R$ 23.960
- Economia: R$ 524.900 - R$ 23.960 = R$ 500.940
- ROI: ((500.940 - 26.400) / 26.400) √ó 100 = **1.797%**
- Payback: 26.400 / (500.940/12) = **0,6 meses** (~18 dias)

---

### Caso 3: Automa√ß√£o Complexa (Complexidade ALTA)

**Cen√°rio**: Automa√ß√£o de processamento de documentos com OCR em ambiente Citrix.

**Inputs AS-IS:**
- Volume Mensal: 10.000 transa√ß√µes
- AHT: 15 minutos
- Custo FTE: R$ 10.000/m√™s
- Taxa de Erro: 8%

**Complexidade:**
- N¬∫ Aplica√ß√µes: 5+ (Citrix + SAP + OCR + E-mail + Web)
- Tipo de Dados: Imagem/OCR
- Ambiente: Citrix
- N¬∫ Passos: 60

**Pontua√ß√£o Esperada**: 3 + 5 + 4 + 5 = 17 pontos ‚Üí **ALTA**

**Resultados Esperados:**
- Horas: 320h dev + 96h an√°lise = 416h
- Custo Dev: (320 √ó 120) + (96 √ó 150) = R$ 52.800
- Custo AS-IS: (10000 √ó 15 √ó 12) √ó (10000/9600) √ó 1,08 = R$ 2.025.000
- Custo TO-BE: 15.000 + 5.000 + (52.800 √ó 0,15) = R$ 27.920
- Economia: R$ 2.025.000 - R$ 27.920 = R$ 1.997.080
- ROI: ((1.997.080 - 52.800) / 52.800) √ó 100 = **3.682%**
- Payback: 52.800 / (1.997.080/12) = **0,3 meses** (~9 dias)

---

### Caso 4: Cen√°rio com ROI Negativo

**Cen√°rio**: Automa√ß√£o de processo com volume muito baixo.

**Inputs AS-IS:**
- Volume Mensal: 100 transa√ß√µes
- AHT: 30 minutos
- Custo FTE: R$ 5.000/m√™s
- Taxa de Erro: 0%

**Complexidade:**
- N¬∫ Aplica√ß√µes: 4
- Tipo de Dados: Texto
- Ambiente: SAP
- N¬∫ Passos: 40

**Pontua√ß√£o Esperada**: 2 + 2 + 2 + 3 = 9 pontos ‚Üí **M√âDIA**

**Resultados Esperados:**
- Custo Dev: R$ 26.400
- Custo AS-IS: (100 √ó 30 √ó 12) √ó (5000/9600) √ó 1,0 = R$ 18.750
- Custo TO-BE: R$ 23.960
- Economia: R$ 18.750 - R$ 23.960 = **-R$ 5.210** (custo maior!)
- ROI: ((-5.210 - 26.400) / 26.400) √ó 100 = **-119%** (preju√≠zo)
- Payback: **Nunca** (economia negativa)

**Conclus√£o**: Automa√ß√£o n√£o √© vi√°vel economicamente.

---

## üß™ Testes de API

### Teste 1: Health Check

```bash
curl http://localhost:5000/api/health
```

**Resposta Esperada:**
```json
{
  "success": true,
  "message": "RPA ROI Navigator API is running",
  "timestamp": "2024-01-15T..."
}
```

---

### Teste 2: Criar Projeto (Caso M√©dio)

```bash
curl -X POST http://localhost:5000/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "projectName": "Teste - Automa√ß√£o M√©dia",
    "ownerUid": "test_user",
    "inputs": {
      "volume": 5000,
      "aht": 10,
      "fteCost": 8000,
      "errorRate": 5
    },
    "complexity": {
      "numApplications": 3,
      "dataType": "structured",
      "environment": "web",
      "numSteps": 25
    }
  }'
```

**Valida√ß√µes:**
- Status: 201 Created
- `complexity_score.classification`: "MEDIUM"
- `complexity_score.total_points`: 7
- `results.roi_year_1`: ~1797%
- `results.payback_months`: ~0.6

---

### Teste 3: Buscar Configura√ß√µes

```bash
curl http://localhost:5000/api/settings
```

**Resposta Esperada:**
```json
{
  "success": true,
  "data": {
    "rates": {
      "dev_hourly": 120.0,
      "analyst_hourly": 150.0,
      "infra_annual": 5000.0,
      "license_annual": 15000.0
    },
    "baselines": {
      "low": 104,
      "medium": 208,
      "high": 416
    }
  }
}
```

---

### Teste 4: Listar Projetos

```bash
curl "http://localhost:5000/api/projects?ownerUid=test_user"
```

**Valida√ß√µes:**
- Status: 200 OK
- Array de projetos
- Ordenado por `created_at` (desc)

---

### Teste 5: Valida√ß√£o de Erro (Campos Faltando)

```bash
curl -X POST http://localhost:5000/api/projects \
  -H "Content-Type: application/json" \
  -d '{
    "projectName": "Teste Incompleto"
  }'
```

**Resposta Esperada:**
```json
{
  "success": false,
  "error": "Missing required fields: projectName, inputs, complexity"
}
```

Status: 400 Bad Request

---

## üé® Testes de Frontend

### Teste 1: Wizard - Valida√ß√£o de Step 1

1. Acesse `http://localhost:5173`
2. Deixe o campo "Nome do Projeto" vazio
3. Tente clicar em "Pr√≥ximo"
4. **Esperado**: Bot√£o desabilitado

### Teste 2: Wizard - Valida√ß√£o de Step 2

1. Preencha Step 1 e avance
2. No Step 2, insira valores inv√°lidos (negativos ou zero)
3. **Esperado**: Bot√£o "Pr√≥ximo" desabilitado

### Teste 3: Wizard - C√°lculo Completo

1. Preencha todos os steps com dados v√°lidos
2. Clique em "Calcular ROI"
3. **Esperado**: 
   - Loading spinner aparece
   - Ap√≥s 1-2s, dashboard de resultados √© exibido
   - KPIs est√£o vis√≠veis
   - Gr√°ficos s√£o renderizados

### Teste 4: Dashboard - Visualiza√ß√£o de Gr√°ficos

1. Ap√≥s calcular ROI, verifique:
   - Gr√°fico de barras (AS-IS vs TO-BE)
   - Gr√°fico de pizza (Breakdown TO-BE)
   - Gr√°fico de linha (Proje√ß√£o Payback)
2. **Esperado**: Todos os gr√°ficos renderizados corretamente

### Teste 5: Dashboard - Nova Simula√ß√£o

1. No dashboard, clique em "Nova Simula√ß√£o"
2. **Esperado**: Retorna ao wizard com formul√°rio limpo

---

## üîç Testes de Integra√ß√£o

### Teste E2E Completo

**Pr√©-condi√ß√µes:**
- Backend rodando em `localhost:5000`
- Frontend rodando em `localhost:5173`
- Firestore inicializado

**Passos:**

1. **Abrir aplica√ß√£o**
   - Acesse `http://localhost:5173`
   - Verifique que o wizard √© exibido

2. **Step 1: Informa√ß√µes**
   - Nome: "Teste E2E - Automa√ß√£o de Faturamento"
   - Respons√°vel: "Jo√£o Silva"
   - Clique em "Pr√≥ximo"

3. **Step 2: AS-IS**
   - Volume: 5000
   - AHT: 10
   - Custo FTE: 8000
   - Taxa de Erro: 5% (slider)
   - Clique em "Pr√≥ximo"

4. **Step 3: Complexidade**
   - N¬∫ Aplica√ß√µes: 3
   - Tipo de Dados: Estruturados
   - Ambiente: Web/Local
   - N¬∫ Passos: 25
   - Verifique chip: "Complexidade: M√âDIA"
   - Clique em "Pr√≥ximo"

5. **Step 4: Revis√£o**
   - Verifique todos os dados exibidos
   - Clique em "Calcular ROI"

6. **Resultados**
   - Aguarde loading
   - Verifique KPIs:
     - ROI ~1797%
     - Economia ~R$ 500k
     - Payback ~0.6 meses
     - Complexidade: M√âDIA
   - Verifique gr√°ficos renderizados
   - Clique em "Nova Simula√ß√£o"

7. **Valida√ß√£o Final**
   - Formul√°rio deve estar limpo
   - Pronto para nova simula√ß√£o

**Resultado Esperado**: Todos os passos executados sem erros.

---

## üìä Matriz de Testes de Complexidade

| Apps | Dados | Ambiente | Passos | Pontos | Classifica√ß√£o |
|------|-------|----------|--------|--------|---------------|
| 1 | structured | web | 10 | 4 | BAIXA |
| 2 | structured | web | 15 | 4 | BAIXA |
| 3 | structured | web | 25 | 7 | M√âDIA |
| 4 | text | sap | 30 | 9 | M√âDIA |
| 5 | text | citrix | 40 | 13 | ALTA |
| 6 | ocr | citrix | 60 | 17 | ALTA |
| 2 | ocr | web | 15 | 8 | M√âDIA |
| 3 | text | web | 55 | 11 | M√âDIA |

---

## ‚úÖ Checklist de Valida√ß√£o

### Backend
- [ ] Health check responde corretamente
- [ ] Criar projeto retorna 201
- [ ] Valida√ß√£o de campos obrigat√≥rios funciona
- [ ] C√°lculo de complexidade est√° correto
- [ ] F√≥rmulas financeiras retornam valores esperados
- [ ] Firestore salva dados corretamente
- [ ] CORS permite origem do frontend

### Frontend
- [ ] Wizard renderiza todos os 4 steps
- [ ] Valida√ß√£o de campos funciona
- [ ] Bot√µes habilitam/desabilitam corretamente
- [ ] Loading state aparece durante c√°lculo
- [ ] Dashboard exibe todos os KPIs
- [ ] Gr√°ficos renderizam corretamente
- [ ] "Nova Simula√ß√£o" limpa o formul√°rio
- [ ] Responsivo em mobile

### Integra√ß√£o
- [ ] Frontend se comunica com backend
- [ ] Dados s√£o salvos no Firestore
- [ ] Configura√ß√µes globais s√£o carregadas
- [ ] Erros s√£o tratados adequadamente

---

## üêõ Casos de Erro Conhecidos

### 1. CORS Error
**Sintoma**: `Access to XMLHttpRequest has been blocked by CORS policy`
**Causa**: Frontend n√£o est√° em `ALLOWED_ORIGINS`
**Solu√ß√£o**: Adicionar URL do frontend no `.env` do backend

### 2. Firebase Permission Denied
**Sintoma**: `Missing or insufficient permissions`
**Causa**: Regras de seguran√ßa muito restritivas
**Solu√ß√£o**: Ajustar regras no Console do Firebase

### 3. C√°lculo com Volume Zero
**Sintoma**: ROI infinito ou NaN
**Causa**: Divis√£o por zero
**Solu√ß√£o**: Valida√ß√£o no frontend impede volume = 0

---

## üìÑ Licen√ßa

Proprietary - Uso Corporativo


==================================================================
ARQUIVO: \frontend\index.html
==================================================================

<!doctype html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    
    <link rel="icon" type="image/png" href="/logo.png" />
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Calculadora de ROI para Automa√ß√µes RPA - Setor de Energia" />
    <meta name="theme-color" content="#1a237e" />
    
    <link rel="apple-touch-icon" href="/logo.png" />
    
    <title>NTT DATA - RPA ROI</title>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>

==================================================================
ARQUIVO: \frontend\package.json
==================================================================

{
  "name": "rpa-roi-navigator-frontend",
  "private": true,
  "version": "1.0.2",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview"
  },
  "dependencies": {
    "@emotion/react": "^11.14.0",
    "@emotion/styled": "^11.14.1",
    "@mui/icons-material": "^5.18.0",
    "@mui/material": "^5.18.0",
    "axios": "^1.6.7",
    "firebase": "^10.8.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0",
    "recharts": "^2.12.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.55",
    "@types/react-dom": "^18.2.19",
    "@vitejs/plugin-react": "^4.2.1",
    "vite": "^5.1.0",
    "vite-plugin-pwa": "^0.17.5"
  }
}

==================================================================
ARQUIVO: \frontend\README.md
==================================================================

# Frontend - RPA ROI Navigator

Aplica√ß√£o PWA para c√°lculo de ROI de automa√ß√µes RPA.

## üöÄ Tecnologias

- React 18
- Vite
- Material UI
- Recharts (Gr√°ficos)
- Axios
- Firebase SDK
- PWA Support

## üìã Pr√©-requisitos

- Node.js 18+ instalado
- Backend API rodando
- Credenciais do Firebase (Client SDK)

## üîß Instala√ß√£o

1. Instale as depend√™ncias:
```bash
npm install
```

2. Configure as vari√°veis de ambiente:
```bash
cp .env.example .env
```

3. Edite o arquivo `.env`:
```env
VITE_API_URL=http://localhost:5000
VITE_FIREBASE_API_KEY=sua-api-key
VITE_FIREBASE_AUTH_DOMAIN=seu-projeto.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=seu-projeto-id
VITE_FIREBASE_STORAGE_BUCKET=seu-projeto.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
```

## üèÉ Executando

### Desenvolvimento
```bash
npm run dev
```

### Build de Produ√ß√£o
```bash
npm run build
```

### Preview da Build
```bash
npm run preview
```

A aplica√ß√£o estar√° dispon√≠vel em `http://localhost:5173`

## üé® Funcionalidades

### Wizard Multi-Step
1. **Informa√ß√µes do Projeto** - Nome e respons√°vel
2. **Cen√°rio AS-IS** - Volume, AHT, custo FTE, taxa de erro
3. **Complexidade** - Aplica√ß√µes, tipo de dados, ambiente, passos
4. **Revis√£o** - Confirma√ß√£o dos dados

### Dashboard de Resultados
- KPIs principais (ROI, Economia, Payback, Complexidade)
- Gr√°fico de compara√ß√£o de custos (AS-IS vs TO-BE)
- Gr√°fico de composi√ß√£o de custos TO-BE
- Proje√ß√£o de payback mensal
- Detalhamento financeiro completo

## üé® Design System

### Cores Principais
- Primary: `#667eea` (Roxo/Azul)
- Secondary: `#764ba2` (Roxo Escuro)
- Success: `#10b981` (Verde)
- Warning: `#f59e0b` (Laranja)
- Error: `#ef4444` (Vermelho)

### Tipografia
- Fam√≠lia: Inter (Google Fonts)
- Pesos: 300, 400, 500, 600, 700

### Componentes
- Gradientes vibrantes
- Sombras suaves
- Border radius: 8px
- Anima√ß√µes micro-interativas

## üì± PWA

A aplica√ß√£o √© uma Progressive Web App completa:
- Instal√°vel no dispositivo
- Funciona offline (service worker)
- √çcones otimizados (192x192, 512x512)
- Manifest configurado

## üì¶ Deploy (Render Static Site)

1. Build Command: `npm install && npm run build`
2. Publish Directory: `dist`
3. Configure as vari√°veis de ambiente no painel do Render

## üîí Seguran√ßa

- Valida√ß√£o de inputs no frontend
- Comunica√ß√£o segura com API (HTTPS em produ√ß√£o)
- Firebase SDK para autentica√ß√£o futura

## üìÑ Licen√ßa

Proprietary - Uso Corporativo


==================================================================
ARQUIVO: \frontend\src\App.jsx
==================================================================

// frontend/src/App.jsx
import React, { useState } from 'react';
import { ThemeProvider, createTheme, CssBaseline, Box } from '@mui/material';
import Navbar from './components/Navbar';
import Home from './components/Home';
import ROIWizard from './components/ROIWizard';
import ResultsDashboard from './components/ResultsDashboard';
import ProjectHistory from './components/ProjectHistory';
import Settings from './components/Settings';
import ReloadPrompt from './components/ReloadPrompt';
import Login from './components/Login';
import SignUp from './components/SignUp'; // <--- Importar
import { AuthProvider, useAuth } from './contexts/AuthContext';

const theme = createTheme({
    palette: {
        primary: { main: '#667eea' },
        secondary: { main: '#764ba2' },
        background: { default: '#f4f6f8' }
    },
    typography: { fontFamily: '"Inter", sans-serif' },
    shape: { borderRadius: 8 },
});

function AppContent() {
    const { currentUser } = useAuth();
    const [currentView, setCurrentView] = useState('home');
    const [authMode, setAuthMode] = useState('login'); // 'login' ou 'signup'
    const [selectedProject, setSelectedProject] = useState(null);

    // Se n√£o estiver logado, gerencia entre Login e Cadastro
    if (!currentUser) {
        if (authMode === 'signup') {
            return <SignUp onSwitchToLogin={() => setAuthMode('login')} />;
        }
        return <Login onSwitchToRegister={() => setAuthMode('signup')} />;
    }

    // ... l√≥gica do app logado ...
    const handleCalculationComplete = (data) => {
        setSelectedProject(data);
        setCurrentView('results');
    };
    const handleNewCalculation = () => {
        setSelectedProject(null);
        setCurrentView('wizard');
    };
    const handleViewProject = (project) => {
        setSelectedProject(project);
        setCurrentView('results');
    };

    return (
        <>
            <Navbar currentView={currentView} onViewChange={setCurrentView} />
            <Box sx={{ pb: 8 }}>
                {currentView === 'home' && <Home onStart={handleNewCalculation} />}
                {currentView === 'wizard' && <ROIWizard onComplete={handleCalculationComplete} />}
                {currentView === 'results' && selectedProject && <ResultsDashboard data={selectedProject} onNewCalculation={handleNewCalculation} />}
                {currentView === 'history' && <ProjectHistory onViewProject={handleViewProject} />}
                {currentView === 'settings' && <Settings />}
            </Box>
            <ReloadPrompt />
        </>
    );
}

function App() {
    return (
        <ThemeProvider theme={theme}>
            <CssBaseline />
            <AuthProvider>
                <AppContent />
            </AuthProvider>
        </ThemeProvider>
    );
}

export default App;

==================================================================
ARQUIVO: \frontend\src\components\Home.jsx
==================================================================

// frontend/src/components/Home.jsx
import React from 'react';
import { 
    Box, Typography, Button, Grid, Paper, 
    List, ListItem, ListItemIcon, ListItemText, Container
} from '@mui/material';
import { 
    RocketLaunch, TrendingUp, Speed, Security, 
    Assessment, CheckCircle 
} from '@mui/icons-material';

export default function Home({ onStart }) {
    return (
        // WRAPPER GERAL: Garante que nada exceda a largura da tela
        <Box sx={{ width: '100%', overflowX: 'hidden', display: 'flex', flexDirection: 'column' }}>
            
            {/* HERO SECTION */}
            <Box 
                sx={{ 
                    background: 'linear-gradient(135deg, #1a237e 0%, #0d47a1 100%)', 
                    color: 'white', 
                    // Padding vertical din√¢mico
                    pt: { xs: 4, md: 8 },
                    pb: { xs: 6, md: 10 },
                    mb: 4,
                    borderRadius: '0 0 2rem 2rem', // Curva menor para mobile
                    textAlign: 'center',
                    width: '100%',
                    position: 'relative',
                    px: 2 // Padding horizontal de seguran√ßa
                }}
            >
                <Box sx={{ maxWidth: '800px', mx: 'auto' }}>
                    <Typography 
                        variant="overline" 
                        sx={{ 
                            letterSpacing: 1.5, 
                            opacity: 0.8, 
                            fontSize: '0.75rem',
                            display: 'block',
                            mb: 1
                        }}
                    >
                        RPA ROI NAVIGATOR
                    </Typography>
                    
                    {/* T√çTULO COM ESTRAT√âGIA VW (Viewport Width) */}
                    <Typography 
                        component="h1"
                        sx={{ 
                            fontWeight: '900', // Extra bold
                            mb: 2,
                            lineHeight: 1.1,
                            // ESTRAT√âGIA NOVA:
                            // Mobile: 8% da largura da tela (8vw). 
                            // Desktop: trava em 3.5rem.
                            fontSize: { xs: '9vw', sm: '3rem', md: '3.5rem' }, 
                            
                            // Seguran√ßa extra para quebra de linha
                            wordBreak: 'break-word',
                            overflowWrap: 'break-word',
                            hyphens: 'auto'
                        }}
                    >
                        Transforme Efici√™ncia em <br />
                        <Box component="span" sx={{ color: '#69f0ae' }}>
                            Resultados Financeiros
                        </Box>
                    </Typography>
                    
                    <Typography 
                        variant="body1" 
                        sx={{ 
                            opacity: 0.9, 
                            mb: 4, 
                            fontWeight: 'light', 
                            // Fonte de corpo tamb√©m baseada em largura no mobile
                            fontSize: { xs: '1rem', md: '1.25rem' },
                            px: 1,
                            lineHeight: 1.5
                        }}
                    >
                        A ferramenta estrat√©gica para l√≠deres de Energia e TI. 
                        Projete custos e valide a viabilidade t√©cnica.
                    </Typography>
                    
                    <Box sx={{ display: 'flex', justifyContent: 'center', width: '100%' }}>
                        <Button 
                            variant="contained" 
                            size="large" 
                            onClick={onStart}
                            startIcon={<RocketLaunch />}
                            sx={{ 
                                backgroundColor: '#00e676', 
                                color: '#003300',
                                fontWeight: 'bold',
                                py: 1.5,
                                px: 4,
                                fontSize: '1rem',
                                width: '100%', 
                                maxWidth: '320px', // Trava largura m√°xima
                                borderRadius: '50px', // Bot√£o arredondado √© mais moderno e seguro
                                '&:hover': { backgroundColor: '#69f0ae' },
                                boxShadow: '0 4px 14px 0 rgba(0,230,118,0.39)'
                            }}
                        >
                            INICIAR SIMULA√á√ÉO
                        </Button>
                    </Box>
                </Box>
            </Box>

            {/* FEATURES SECTION */}
            <Container maxWidth="lg" sx={{ mb: 6, px: 2 }}>
                <Grid container spacing={2}>
                    {/* Card 1 */}
                    <Grid item xs={12} md={4}>
                        <Paper elevation={2} sx={{ p: 3, height: '100%', borderRadius: 3 }}>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                                <Assessment color="primary" sx={{ fontSize: 32, mr: 1 }} />
                                <Typography variant="h6" fontWeight="bold" sx={{ fontSize: '1.1rem' }}>
                                    AS-IS vs TO-BE
                                </Typography>
                            </Box>
                            <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
                                Comparativo de custos operacionais manuais vs automatizados.
                            </Typography>
                            <List dense disablePadding>
                                <ListItem disablePadding>
                                    <ListItemIcon sx={{ minWidth: 30 }}><CheckCircle color="success" fontSize="small" /></ListItemIcon>
                                    <ListItemText primary="Custo de Oportunidade" primaryTypographyProps={{ fontSize: '0.85rem' }} />
                                </ListItem>
                            </List>
                        </Paper>
                    </Grid>

                    {/* Card 2 */}
                    <Grid item xs={12} md={4}>
                        <Paper elevation={2} sx={{ p: 3, height: '100%', borderRadius: 3, borderLeft: '4px solid #667eea' }}>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                                <Speed color="primary" sx={{ fontSize: 32, mr: 1 }} />
                                <Typography variant="h6" fontWeight="bold" sx={{ fontSize: '1.1rem' }}>
                                    Complexidade
                                </Typography>
                            </Box>
                            <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
                                Matriz que calcula o esfor√ßo exato de desenvolvimento.
                            </Typography>
                            <List dense disablePadding>
                                <ListItem disablePadding>
                                    <ListItemIcon sx={{ minWidth: 30 }}><CheckCircle color="success" fontSize="small" /></ListItemIcon>
                                    <ListItemText primary="Tipologia de Dados" primaryTypographyProps={{ fontSize: '0.85rem' }} />
                                </ListItem>
                            </List>
                        </Paper>
                    </Grid>

                    {/* Card 3 */}
                    <Grid item xs={12} md={4}>
                        <Paper elevation={2} sx={{ p: 3, height: '100%', borderRadius: 3 }}>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                                <TrendingUp color="primary" sx={{ fontSize: 32, mr: 1 }} />
                                <Typography variant="h6" fontWeight="bold" sx={{ fontSize: '1.1rem' }}>
                                    Financeiro
                                </Typography>
                            </Box>
                            <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
                                Business Case completo para aprova√ß√£o de budget.
                            </Typography>
                            <List dense disablePadding>
                                <ListItem disablePadding>
                                    <ListItemIcon sx={{ minWidth: 30 }}><CheckCircle color="success" fontSize="small" /></ListItemIcon>
                                    <ListItemText primary="ROI e Payback" primaryTypographyProps={{ fontSize: '0.85rem' }} />
                                </ListItem>
                            </List>
                        </Paper>
                    </Grid>
                </Grid>
            </Container>

            {/* FOOTER */}
            <Box sx={{ bgcolor: '#f5f5f5', py: 3, borderTop: '1px solid #e0e0e0', mt: 'auto' }}>
                <Container maxWidth="lg">
                    <Grid container alignItems="center" spacing={1}>
                        <Grid item xs={12}>
                            <Box sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', gap: 1, opacity: 0.6 }}>
                                <Security fontSize="small" />
                                <Typography variant="caption">
                                    Ambiente Seguro ‚Ä¢ NTT DATA
                                </Typography>
                            </Box>
                        </Grid>
                    </Grid>
                </Container>
            </Box>
        </Box>
    );
}

==================================================================
ARQUIVO: \frontend\src\components\Login.jsx
==================================================================

// frontend/src/components/Login.jsx
import React, { useState } from 'react';
import { Container, Paper, TextField, Button, Typography, Box, Alert, Link } from '@mui/material';
import { useAuth } from '../contexts/AuthContext';

// Recebemos a fun√ß√£o onSwitchToRegister via props para alternar telas
export default function Login({ onSwitchToRegister }) {
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [error, setError] = useState('');
    const [loading, setLoading] = useState(false);
    const { login } = useAuth();

    async function handleSubmit(e) {
        e.preventDefault();
        try {
            setError('');
            setLoading(true);
            await login(email, password);
            // O redirecionamento acontece automaticamente pelo AuthContext no App.jsx
        } catch (err) {
            console.error(err);
            setError('Falha no login. Verifique email e senha.');
        }
        setLoading(false);
    }

    return (
        <Container component="main" maxWidth="xs" sx={{ height: '100vh', display: 'flex', alignItems: 'center' }}>
            <Paper elevation={6} sx={{ p: 4, display: 'flex', flexDirection: 'column', alignItems: 'center', width: '100%' }}>
                
                {/* LOGO DA EMPRESA NO LOGIN */}
                <Box 
                    component="img"
                    src="/logo.png"
                    alt="Logo"
                    sx={{ 
                        height: 80, // Tamanho maior para destaque
                        width: 'auto',
                        mb: 3,
                        objectFit: 'contain'
                    }}
                />

                <Typography component="h1" variant="h5" fontWeight="bold" sx={{ mb: 3 }}>
                    RPA ROI Navigator
                </Typography>
                
                {error && <Alert severity="error" sx={{ width: '100%', mb: 2 }}>{error}</Alert>}

                <Box component="form" onSubmit={handleSubmit} sx={{ mt: 1, width: '100%' }}>
                    <TextField
                        margin="normal" required fullWidth
                        label="Email Corporativo" autoFocus
                        value={email} onChange={(e) => setEmail(e.target.value)}
                    />
                    <TextField
                        margin="normal" required fullWidth
                        label="Senha" type="password"
                        value={password} onChange={(e) => setPassword(e.target.value)}
                    />
                    <Button
                        type="submit" fullWidth variant="contained"
                        sx={{ mt: 3, mb: 2, py: 1.5, fontWeight: 'bold' }}
                        disabled={loading}
                    >
                        {loading ? 'Entrando...' : 'Entrar'}
                    </Button>

                    <Box sx={{ textAlign: 'center', mt: 2 }}>
                        <Typography variant="body2">
                            N√£o tem uma conta?{' '}
                            <Link component="button" variant="body2" onClick={onSwitchToRegister}>
                                Cadastre-se
                            </Link>
                        </Typography>
                    </Box>
                </Box>
            </Paper>
        </Container>
    );
}

==================================================================
ARQUIVO: \frontend\src\components\Navbar.jsx
==================================================================

// frontend/src/components/Navbar.jsx
import React, { useState } from 'react';
import { 
  AppBar, Toolbar, Typography, Button, Box, Container, 
  IconButton, Collapse, List, ListItemButton, ListItemIcon, 
  ListItemText, useTheme, useMediaQuery, Divider, Tooltip, Stack
} from '@mui/material';
import { Calculate, History, Settings, Menu as MenuIcon, Close, Logout, Person } from '@mui/icons-material';
import { useAuth } from '../contexts/AuthContext';
import { appVersion } from '../version';

export default function Navbar({ currentView, onViewChange }) {
  const { currentUser, isAdmin, logout } = useAuth();
  const theme = useTheme();
  // Breakpoint LG para mudar para menu mobile mais cedo em tablets/laptops
  const isMobile = useMediaQuery(theme.breakpoints.down('lg')); 
  
  const [mobileOpen, setMobileOpen] = useState(false);

  const handleDrawerToggle = () => setMobileOpen(!mobileOpen);

  const handleNavigation = (view) => {
    onViewChange(view);
    setMobileOpen(false);
  };

  const handleLogoClick = () => {
    onViewChange('home');
    setMobileOpen(false);
  };

  const handleLogout = async () => {
    try {
        await logout();
    } catch (error) {
        console.error("Erro ao sair", error);
    }
  };

  const menuItems = [
    { label: 'Simulador', icon: <Calculate sx={{ color: 'white' }} />, view: 'wizard' },
    { label: 'Hist√≥rico', icon: <History sx={{ color: 'white' }} />, view: 'history' },
  ];

  if (isAdmin) {
    menuItems.push({ label: 'Configura√ß√µes', icon: <Settings sx={{ color: 'white' }} />, view: 'settings' });
  }

  return (
    <AppBar position="static" sx={{ background: 'linear-gradient(90deg, #1a237e 0%, #283593 100%)', mb: 0 }}>
      <Container maxWidth="xl">
        <Toolbar disableGutters sx={{ minHeight: { xs: 56, sm: 64 } }}>
          
          {/* LOGO + T√çTULO */}
          <Box 
            onClick={handleLogoClick}
            sx={{ 
              display: 'flex', 
              alignItems: 'center', 
              cursor: 'pointer', 
              mr: 2,
              flexGrow: 1,
              overflow: 'hidden' // Previne overflow do t√≠tulo
            }}
          >
            <Box 
                component="img"
                src="/logo.png"
                alt="Logo"
                sx={{ 
                    height: { xs: 32, sm: 40 }, // Logo menor no mobile
                    width: 'auto',
                    mr: 1.5,
                }}
            />
            
            <Box sx={{ minWidth: 0 }}> {/* minWidth 0 permite text-overflow funcionar */}
                <Typography 
                    variant="h6" 
                    component="div" 
                    sx={{ 
                        fontWeight: 'bold', 
                        userSelect: 'none', 
                        whiteSpace: 'nowrap',
                        lineHeight: 1.2,
                        // Fonte din√¢mica para n√£o quebrar no mobile S20
                        fontSize: 'clamp(1rem, 4vw, 1.25rem)',
                        overflow: 'hidden',
                        textOverflow: 'ellipsis'
                    }}
                >
                    RPA ROI Navigator
                </Typography>
                {!isMobile && (
                  <Typography variant="caption" sx={{ opacity: 0.6, fontSize: '0.7rem', display: 'block' }}>
                    v{appVersion}
                  </Typography>
                )}
            </Box>
          </Box>

          {isMobile ? (
            // MENU MOBILE
            <IconButton 
                size="large" 
                edge="end" 
                color="inherit" 
                onClick={handleDrawerToggle}
                sx={{ ml: 1 }}
            >
              {mobileOpen ? <Close /> : <MenuIcon />}
            </IconButton>
          ) : (
            // MENU DESKTOP
            <Box sx={{ display: 'flex', alignItems: 'center', flexShrink: 0 }}>
              <Stack direction="row" spacing={1}>
                {menuItems.map((item) => (
                  <Button 
                    key={item.view} 
                    color="inherit" 
                    startIcon={item.icon}
                    onClick={() => handleNavigation(item.view)}
                    sx={{ 
                        borderBottom: currentView === item.view ? '2px solid white' : '2px solid transparent', 
                        borderRadius: 0, 
                        opacity: currentView === item.view ? 1 : 0.8,
                        whiteSpace: 'nowrap',
                        px: 2
                    }}
                  >
                    {item.label}
                  </Button>
                ))}
              </Stack>
              
              <Box sx={{ width: 1, height: 24, bgcolor: 'rgba(255,255,255,0.3)', mx: 2 }} />
              
              <Stack direction="row" spacing={1} alignItems="center">
                <Tooltip title={`Logado como: ${currentUser?.email}`}>
                    <IconButton color="inherit" size="small"><Person /></IconButton>
                </Tooltip>
                <Tooltip title="Sair">
                    <IconButton color="inherit" onClick={handleLogout}><Logout /></IconButton>
                </Tooltip>
              </Stack>
            </Box>
          )}
        </Toolbar>

        {/* GAVETA MOBILE */}
        <Collapse in={isMobile && mobileOpen} timeout="auto" unmountOnExit>
          <Box sx={{ borderTop: '1px solid rgba(255,255,255,0.2)' }}>
            <List component="nav">
              {menuItems.map((item) => (
                <ListItemButton 
                  key={item.view} onClick={() => handleNavigation(item.view)} selected={currentView === item.view}
                  sx={{ 
                    '&.Mui-selected': { backgroundColor: 'rgba(255, 255, 255, 0.2)' }, 
                    paddingY: 2 
                  }}
                >
                  <ListItemIcon sx={{ minWidth: 40 }}>{item.icon}</ListItemIcon>
                  <ListItemText primary={item.label} primaryTypographyProps={{ fontWeight: 'medium', color: 'white' }} />
                </ListItemButton>
              ))}
              <Divider sx={{ borderColor: 'rgba(255,255,255,0.2)' }} />
              <ListItemButton onClick={handleLogout}>
                  <ListItemIcon sx={{ minWidth: 40 }}><Logout sx={{ color: 'white' }}/></ListItemIcon>
                  <ListItemText primary="Sair" primaryTypographyProps={{ color: 'white' }} />
              </ListItemButton>
            </List>
            <Box sx={{ p: 2, textAlign: 'center', opacity: 0.5 }}>
                <Typography variant="caption" sx={{ color: 'white' }}>
                    v{appVersion}
                </Typography>
            </Box>
          </Box>
        </Collapse>
      </Container>
    </AppBar>
  );
}

==================================================================
ARQUIVO: \frontend\src\components\ProjectHistory.jsx
==================================================================

// frontend/src/components/ProjectHistory.jsx
import React, { useEffect, useState } from 'react';
import { 
  Container, Paper, Typography, Table, TableBody, TableCell, 
  TableContainer, TableHead, TableRow, Chip, IconButton, Box, CircularProgress 
} from '@mui/material';
import { Visibility, Delete } from '@mui/icons-material';
import { projectService } from '../services/api';

export default function ProjectHistory({ onViewProject }) {
  const [projects, setProjects] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    loadProjects();
  }, []);

  const loadProjects = async () => {
    try {
      // Como n√£o temos login ainda, usamos 'anonymous' ou o ID que voc√™ usou no wizard
      const data = await projectService.listProjects('anonymous'); 
      setProjects(data);
    } catch (error) {
      console.error("Erro ao carregar hist√≥rico", error);
    } finally {
      setLoading(false);
    }
  };

  const handleDelete = async (id) => {
    if (window.confirm('Tem certeza que deseja excluir este projeto?')) {
      await projectService.deleteProject(id);
      loadProjects(); // Recarrega a lista
    }
  };

  const formatCurrency = (value) => new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(value);

  if (loading) return <Box sx={{ display: 'flex', justifyContent: 'center', mt: 4 }}><CircularProgress /></Box>;

  return (
    <Container maxWidth="lg">
      <Typography variant="h5" sx={{ mb: 3, fontWeight: 'bold', color: '#1a237e' }}>Hist√≥rico de Simula√ß√µes</Typography>
      <TableContainer component={Paper} elevation={3}>
        <Table>
          <TableHead sx={{ backgroundColor: '#f5f5f5' }}>
            <TableRow>
              <TableCell><strong>Projeto</strong></TableCell>
              <TableCell><strong>Data</strong></TableCell>
              <TableCell><strong>Complexidade</strong></TableCell>
              <TableCell><strong>Investimento</strong></TableCell>
              <TableCell><strong>ROI (Ano 1)</strong></TableCell>
              <TableCell align="center"><strong>A√ß√µes</strong></TableCell>
            </TableRow>
          </TableHead>
          <TableBody>
            {projects.map((project) => (
              <TableRow key={project.id} hover>
                <TableCell>{project.project_name}</TableCell>
                <TableCell>{new Date(project.created_at).toLocaleDateString()}</TableCell>
                <TableCell>
                  <Chip 
                    label={project.complexity_score?.classification || 'N/A'} 
                    color={project.complexity_score?.classification === 'HIGH' ? 'error' : project.complexity_score?.classification === 'MEDIUM' ? 'warning' : 'success'}
                    size="small" 
                  />
                </TableCell>
                <TableCell>{formatCurrency(project.results?.development_cost || 0)}</TableCell>
                <TableCell sx={{ fontWeight: 'bold', color: project.results?.roi_year_1 > 0 ? 'green' : 'red' }}>
                  {project.results?.roi_year_1?.toFixed(1)}%
                </TableCell>
                <TableCell align="center">
                  <IconButton color="primary" onClick={() => onViewProject(project)}>
                    <Visibility />
                  </IconButton>
                  <IconButton color="error" onClick={() => handleDelete(project.id)}>
                    <Delete />
                  </IconButton>
                </TableCell>
              </TableRow>
            ))}
            {projects.length === 0 && (
              <TableRow>
                <TableCell colSpan={6} align="center">Nenhum projeto encontrado.</TableCell>
              </TableRow>
            )}
          </TableBody>
        </Table>
      </TableContainer>
    </Container>
  );
}

==================================================================
ARQUIVO: \frontend\src\components\ReloadPrompt.jsx
==================================================================

// frontend/src/components/ReloadPrompt.jsx
import React from 'react';
import { useRegisterSW } from 'virtual:pwa-register/react';
import { Snackbar, Button, Alert } from '@mui/material';

export default function ReloadPrompt() {
  const {
    offlineReady: [offlineReady, setOfflineReady],
    needRefresh: [needRefresh, setNeedRefresh],
    updateServiceWorker,
  } = useRegisterSW({
    onRegistered(r) {
      // Opcional: Log para debug
      console.log('SW Registrado: ' + r);
    },
    onRegisterError(error) {
      console.log('Erro no registro do SW', error);
    },
  });

  const close = () => {
    setOfflineReady(false);
    setNeedRefresh(false);
  };

  return (
    <>
      {/* Aviso: App pronto para uso offline */}
      <Snackbar 
        open={offlineReady} 
        autoHideDuration={6000} 
        onClose={close}
        anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}
      >
        <Alert onClose={close} severity="success" sx={{ width: '100%' }} variant="filled">
          Aplicativo pronto para uso offline!
        </Alert>
      </Snackbar>

      {/* Aviso: Nova vers√£o dispon√≠vel */}
      <Snackbar 
        open={needRefresh} 
        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}
      >
        <Alert 
          severity="info"
          variant="filled"
          action={
            <Button color="inherit" size="small" onClick={() => updateServiceWorker(true)}>
              ATUALIZAR
            </Button>
          }
        >
          Nova vers√£o dispon√≠vel.
        </Alert>
      </Snackbar>
    </>
  );
}

==================================================================
ARQUIVO: \frontend\src\components\ResultsDashboard.jsx
==================================================================

import React from 'react';
import {
    Box,
    Typography,
    Paper,
    Grid,
    Card,
    CardContent,
    Chip,
    Divider,
    Button,
    Container,
} from '@mui/material';
import {
    TrendingUp,
    AttachMoney,
    Schedule,
    Assessment,
    Refresh,
    Download,
} from '@mui/icons-material';
import {
    BarChart,
    Bar,
    XAxis,
    YAxis,
    CartesianGrid,
    Tooltip,
    Legend,
    ResponsiveContainer,
    PieChart,
    Pie,
    Cell,
    LineChart,
    Line,
} from 'recharts';

export default function ResultsDashboard({ data, onNewCalculation }) {
    const formatCurrency = (value) => {
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL',
            minimumFractionDigits: 2,
        }).format(value);
    };

    const formatNumber = (value) => {
        return new Intl.NumberFormat('pt-BR', {
            minimumFractionDigits: 1,
            maximumFractionDigits: 1,
        }).format(value);
    };

    const results = data.results;
    const complexity = data.complexity_score;

    // Dados para gr√°fico de compara√ß√£o de custos
    const costComparisonData = [
        {
            name: 'AS-IS (Atual)',
            Anual: results.as_is_cost_annual,
            Mensal: results.as_is_cost_annual / 12,
        },
        {
            name: 'TO-BE (Automa√ß√£o)',
            Anual: results.to_be_cost_annual,
            Mensal: results.to_be_cost_annual / 12,
        },
    ];

    // Dados para gr√°fico de breakdown de custos TO-BE
    const toBeCostBreakdown = [
        { name: 'Licen√ßas', value: results.cost_breakdown.licenseCost },
        { name: 'Infraestrutura', value: results.cost_breakdown.infraCost },
        { name: 'Manuten√ß√£o', value: results.cost_breakdown.maintenanceCost },
    ];

    // Dados para proje√ß√£o de payback
    const paybackData = [];
    const monthlySavings = results.monthly_savings;
    let accumulated = -results.development_cost;

    for (let month = 0; month <= Math.ceil(results.payback_months || 12); month++) {
        accumulated += monthlySavings;
        paybackData.push({
            month: month,
            accumulated: accumulated,
        });
    }

    const COLORS = ['#667eea', '#764ba2', '#f093fb'];

    const getROIColor = (roi) => {
        if (roi >= 100) return 'success';
        if (roi >= 50) return 'warning';
        return 'error';
    };

    const getComplexityColor = (classification) => {
        if (classification === 'HIGH') return 'error';
        if (classification === 'MEDIUM') return 'warning';
        return 'success';
    };

    return (
        <Container maxWidth="lg" sx={{ py: 4 }}>
            {/* Header */}
            <Paper
                elevation={3}
                sx={{
                    p: 4,
                    borderRadius: 2,
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    color: 'white',
                    mb: 3,
                }}
            >
                <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                    <Box>
                        <Typography variant="h4" component="h1" gutterBottom fontWeight={700}>
                            Resultados da An√°lise
                        </Typography>
                        <Typography variant="body1" sx={{ opacity: 0.9 }}>
                            {data.project_name}
                        </Typography>
                    </Box>
                    <Box sx={{ display: 'flex', gap: 2 }}>
                        <Button
                            variant="contained"
                            startIcon={<Download />}
                            sx={{
                                backgroundColor: 'rgba(255,255,255,0.2)',
                                '&:hover': { backgroundColor: 'rgba(255,255,255,0.3)' },
                            }}
                        >
                            Exportar PDF
                        </Button>
                        <Button
                            variant="contained"
                            startIcon={<Refresh />}
                            onClick={onNewCalculation}
                            sx={{
                                backgroundColor: 'rgba(255,255,255,0.2)',
                                '&:hover': { backgroundColor: 'rgba(255,255,255,0.3)' },
                            }}
                        >
                            Nova Simula√ß√£o
                        </Button>
                    </Box>
                </Box>
            </Paper>

            {/* KPIs Principais */}
            <Grid container spacing={3} sx={{ mb: 3 }}>
                <Grid item xs={12} sm={6} md={3}>
                    <Card
                        sx={{
                            background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                            color: 'white',
                        }}
                    >
                        <CardContent>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                                <TrendingUp sx={{ mr: 1 }} />
                                <Typography variant="body2" sx={{ opacity: 0.9 }}>
                                    ROI Ano 1
                                </Typography>
                            </Box>
                            <Typography variant="h3" fontWeight={700}>
                                {formatNumber(results.roi_year_1)}%
                            </Typography>
                            <Chip
                                label={results.roi_year_1 >= 100 ? 'Excelente' : results.roi_year_1 >= 50 ? 'Bom' : 'Aten√ß√£o'}
                                size="small"
                                sx={{
                                    mt: 1,
                                    backgroundColor: 'rgba(255,255,255,0.2)',
                                    color: 'white',
                                }}
                            />
                        </CardContent>
                    </Card>
                </Grid>

                <Grid item xs={12} sm={6} md={3}>
                    <Card>
                        <CardContent>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                                <AttachMoney sx={{ mr: 1, color: 'success.main' }} />
                                <Typography variant="body2" color="text.secondary">
                                    Economia Anual
                                </Typography>
                            </Box>
                            <Typography variant="h4" fontWeight={700} color="success.main">
                                {formatCurrency(results.annual_savings)}
                            </Typography>
                            <Typography variant="caption" color="text.secondary">
                                {formatCurrency(results.monthly_savings)}/m√™s
                            </Typography>
                        </CardContent>
                    </Card>
                </Grid>

                <Grid item xs={12} sm={6} md={3}>
                    <Card>
                        <CardContent>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                                <Schedule sx={{ mr: 1, color: 'info.main' }} />
                                <Typography variant="body2" color="text.secondary">
                                    Payback
                                </Typography>
                            </Box>
                            <Typography variant="h4" fontWeight={700} color="info.main">
                                {formatNumber(results.payback_months)}
                            </Typography>
                            <Typography variant="caption" color="text.secondary">
                                meses
                            </Typography>
                        </CardContent>
                    </Card>
                </Grid>

                <Grid item xs={12} sm={6} md={3}>
                    <Card>
                        <CardContent>
                            <Box sx={{ display: 'flex', alignItems: 'center', mb: 1 }}>
                                <Assessment sx={{ mr: 1, color: getComplexityColor(complexity.classification) }} />
                                <Typography variant="body2" color="text.secondary">
                                    Complexidade
                                </Typography>
                            </Box>
                            <Typography variant="h4" fontWeight={700}>
                                {complexity.classification}
                            </Typography>
                            <Typography variant="caption" color="text.secondary">
                                {complexity.hours.totalHours}h desenvolvimento
                            </Typography>
                        </CardContent>
                    </Card>
                </Grid>
            </Grid>

            {/* Gr√°ficos */}
            <Grid container spacing={3} sx={{ mb: 3 }}>
                {/* Compara√ß√£o de Custos */}
                <Grid item xs={12} md={6}>
                    <Paper sx={{ p: 3, borderRadius: 2 }}>
                        <Typography variant="h6" fontWeight={600} gutterBottom>
                            Compara√ß√£o de Custos
                        </Typography>
                        <ResponsiveContainer width="100%" height={300}>
                            <BarChart data={costComparisonData}>
                                <CartesianGrid strokeDasharray="3 3" />
                                <XAxis dataKey="name" />
                                <YAxis tickFormatter={(value) => `R$ ${(value / 1000).toFixed(0)}k`} />
                                <Tooltip formatter={(value) => formatCurrency(value)} />
                                <Legend />
                                <Bar dataKey="Anual" fill="#667eea" />
                                <Bar dataKey="Mensal" fill="#764ba2" />
                            </BarChart>
                        </ResponsiveContainer>
                    </Paper>
                </Grid>

                {/* Breakdown Custos TO-BE */}
                <Grid item xs={12} md={6}>
                    <Paper sx={{ p: 3, borderRadius: 2 }}>
                        <Typography variant="h6" fontWeight={600} gutterBottom>
                            Composi√ß√£o Custos TO-BE
                        </Typography>
                        <ResponsiveContainer width="100%" height={300}>
                            <PieChart>
                                <Pie
                                    data={toBeCostBreakdown}
                                    cx="50%"
                                    cy="50%"
                                    labelLine={false}
                                    label={({ name, percent }) => `${name}: ${(percent * 100).toFixed(0)}%`}
                                    outerRadius={80}
                                    fill="#8884d8"
                                    dataKey="value"
                                >
                                    {toBeCostBreakdown.map((entry, index) => (
                                        <Cell key={`cell-${index}`} fill={COLORS[index % COLORS.length]} />
                                    ))}
                                </Pie>
                                <Tooltip formatter={(value) => formatCurrency(value)} />
                            </PieChart>
                        </ResponsiveContainer>
                    </Paper>
                </Grid>

                {/* Proje√ß√£o de Payback */}
                <Grid item xs={12}>
                    <Paper sx={{ p: 3, borderRadius: 2 }}>
                        <Typography variant="h6" fontWeight={600} gutterBottom>
                            Proje√ß√£o de Payback
                        </Typography>
                        <ResponsiveContainer width="100%" height={300}>
                            <LineChart data={paybackData}>
                                <CartesianGrid strokeDasharray="3 3" />
                                <XAxis dataKey="month" label={{ value: 'Meses', position: 'insideBottom', offset: -5 }} />
                                <YAxis tickFormatter={(value) => `R$ ${(value / 1000).toFixed(0)}k`} />
                                <Tooltip formatter={(value) => formatCurrency(value)} />
                                <Legend />
                                <Line
                                    type="monotone"
                                    dataKey="accumulated"
                                    stroke="#667eea"
                                    strokeWidth={3}
                                    name="Economia Acumulada"
                                />
                                <Line
                                    type="monotone"
                                    dataKey={() => 0}
                                    stroke="#ff0000"
                                    strokeDasharray="5 5"
                                    name="Break-even"
                                />
                            </LineChart>
                        </ResponsiveContainer>
                    </Paper>
                </Grid>
            </Grid>

            {/* Detalhamento Financeiro */}
            <Paper sx={{ p: 3, borderRadius: 2 }}>
                <Typography variant="h6" fontWeight={600} gutterBottom>
                    Detalhamento Financeiro
                </Typography>
                <Divider sx={{ mb: 2 }} />

                <Grid container spacing={3}>
                    <Grid item xs={12} md={6}>
                        <Typography variant="subtitle2" color="text.secondary" gutterBottom>
                            Investimento Inicial
                        </Typography>
                        <Box sx={{ pl: 2 }}>
                            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>
                                <Typography variant="body2">Desenvolvimento ({complexity.hours.devHours}h)</Typography>
                                <Typography variant="body2" fontWeight={600}>
                                    {formatCurrency(results.development_cost * (complexity.hours.devHours / complexity.hours.totalHours))}
                                </Typography>
                            </Box>
                            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>
                                <Typography variant="body2">An√°lise ({complexity.hours.analystHours}h)</Typography>
                                <Typography variant="body2" fontWeight={600}>
                                    {formatCurrency(results.development_cost * (complexity.hours.analystHours / complexity.hours.totalHours))}
                                </Typography>
                            </Box>
                            <Divider sx={{ my: 1 }} />
                            <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>
                                <Typography variant="body1" fontWeight={600}>Total</Typography>
                                <Typography variant="body1" fontWeight={700} color="primary">
                                    {formatCurrency(results.development_cost)}
                                </Typography>
                            </Box>
                        </Box>
                    </Grid>

                    <Grid item xs={12} md={6}>
                        <Typography variant="subtitle2" color="text.secondary" gutterBottom>
                            Custos Operacionais Anuais (TO-BE)
                        </Typography>
                        <Box sx={{ pl: 2 }}>
                            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>
                                <Typography variant="body2">Licen√ßas RPA</Typography>
                                <Typography variant="body2" fontWeight={600}>
                                    {formatCurrency(results.cost_breakdown.licenseCost)}
                                </Typography>
                            </Box>
                            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>
                                <Typography variant="body2">Infraestrutura</Typography>
                                <Typography variant="body2" fontWeight={600}>
                                    {formatCurrency(results.cost_breakdown.infraCost)}
                                </Typography>
                            </Box>
                            <Box sx={{ display: 'flex', justifyContent: 'space-between', mb: 1 }}>
                                <Typography variant="body2">Manuten√ß√£o (15%)</Typography>
                                <Typography variant="body2" fontWeight={600}>
                                    {formatCurrency(results.cost_breakdown.maintenanceCost)}
                                </Typography>
                            </Box>
                            <Divider sx={{ my: 1 }} />
                            <Box sx={{ display: 'flex', justifyContent: 'space-between' }}>
                                <Typography variant="body1" fontWeight={600}>Total Anual</Typography>
                                <Typography variant="body1" fontWeight={700} color="primary">
                                    {formatCurrency(results.to_be_cost_annual)}
                                </Typography>
                            </Box>
                        </Box>
                    </Grid>
                </Grid>
            </Paper>
        </Container>
    );
}


==================================================================
ARQUIVO: \frontend\src\components\ROIWizard.jsx
==================================================================

// frontend/src/components/ROIWizard.jsx
import React, { useState } from 'react';
import {
    Box,
    Stepper,
    Step,
    StepLabel,
    Button,
    Typography,
    Paper,
    Container,
    CircularProgress,
    Alert,
    useTheme,
    useMediaQuery
} from '@mui/material';
import {
    NavigateNext,
    NavigateBefore,
    Calculate,
} from '@mui/icons-material';
import Step1ProjectInfo from './steps/Step1ProjectInfo';
import Step2AsIsInputs from './steps/Step2AsIsInputs';
import Step3Complexity from './steps/Step3Complexity';
import Step4Review from './steps/Step4Review';
import { projectService } from '../services/api';

const steps = [
    'Projeto', // Encurtei os nomes para mobile
    'Cen√°rio',
    'Complexidade',
    'Revis√£o',
];

export default function ROIWizard({ onComplete }) {
    const theme = useTheme();
    // Detecta se √© mobile (tela menor que 'sm' - aprox 600px)
    const isMobile = useMediaQuery(theme.breakpoints.down('sm'));

    const [activeStep, setActiveStep] = useState(0);
    const [loading, setLoading] = useState(false);
    const [error, setError] = useState(null);

    // Estado do formul√°rio
    const [formData, setFormData] = useState({
        projectName: '',
        ownerUid: 'anonymous',
        inputs: {
            volume: '',
            aht: '',
            fteCost: '',
            errorRate: 0,
        },
        complexity: {
            numApplications: 1,
            dataType: 'structured',
            environment: 'web',
            numSteps: 10,
        },
    });

    const handleNext = () => {
        setError(null);
        setActiveStep((prevActiveStep) => prevActiveStep + 1);
    };

    const handleBack = () => {
        setError(null);
        setActiveStep((prevActiveStep) => prevActiveStep - 1);
    };

    const handleReset = () => {
        setActiveStep(0);
        setError(null);
        setFormData({
            projectName: '',
            ownerUid: 'anonymous',
            inputs: {
                volume: '',
                aht: '',
                fteCost: '',
                errorRate: 0,
            },
            complexity: {
                numApplications: 1,
                dataType: 'structured',
                environment: 'web',
                numSteps: 10,
            },
        });
    };

    const handleSubmit = async () => {
        setLoading(true);
        setError(null);
        try {
            const payload = {
                projectName: formData.projectName,
                ownerUid: formData.ownerUid,
                inputs: {
                    volume: parseFloat(formData.inputs.volume),
                    aht: parseFloat(formData.inputs.aht),
                    fteCost: parseFloat(formData.inputs.fteCost),
                    errorRate: parseFloat(formData.inputs.errorRate) || 0,
                },
                complexity: {
                    numApplications: parseInt(formData.complexity.numApplications),
                    dataType: formData.complexity.dataType,
                    environment: formData.complexity.environment,
                    numSteps: parseInt(formData.complexity.numSteps),
                },
            };
            const result = await projectService.createProject(payload);

            if (result.success) {
                onComplete(result.data);
            } else {
                setError(result.error || 'Erro ao criar projeto');
            }
        } catch (err) {
            console.error('Error submitting project:', err);
            setError(err.response?.data?.error || 'Erro ao processar solicita√ß√£o');
        } finally {
            setLoading(false);
        }
    };

    const updateFormData = (field, value) => {
        setFormData((prev) => ({
            ...prev,
            [field]: value,
        }));
    };

    const isStepValid = () => {
        switch (activeStep) {
            case 0:
                return formData.projectName.trim().length > 0;
            case 1:
                return (
                    formData.inputs.volume > 0 &&
                    formData.inputs.aht > 0 &&
                    formData.inputs.fteCost > 0
                );
            case 2:
                return (
                    formData.complexity.numApplications > 0 &&
                    formData.complexity.numSteps > 0
                );
            case 3:
                return true;
            default:
                return false;
        }
    };

    const renderStepContent = (step) => {
        switch (step) {
            case 0:
                return <Step1ProjectInfo data={formData} onChange={updateFormData} />;
            case 1:
                return <Step2AsIsInputs data={formData.inputs} onChange={(value) => updateFormData('inputs', value)} />;
            case 2:
                return <Step3Complexity data={formData.complexity} onChange={(value) => updateFormData('complexity', value)} />;
            case 3:
                return <Step4Review data={formData} />;
            default:
                return <Typography>Passo desconhecido</Typography>;
        }
    };

    return (
        // Remove padding horizontal excessivo do Container no mobile
        <Container maxWidth="lg" sx={{ py: isMobile ? 2 : 4, px: isMobile ? 1 : 3 }}>
            
            {/* Banner Superior */}
            <Paper
                elevation={3}
                sx={{
                    p: isMobile ? 3 : 4, // Padding menor no mobile
                    borderRadius: 2,
                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                    color: 'white',
                    mb: 3,
                }}
            >
                <Typography variant={isMobile ? "h5" : "h4"} component="h1" gutterBottom fontWeight={700}>
                    RPA ROI Navigator
                </Typography>
                <Typography variant="body1" sx={{ opacity: 0.9, fontSize: isMobile ? '0.9rem' : '1rem' }}>
                    Calcule o retorno sobre investimento de suas automa√ß√µes
                </Typography>
            </Paper>

            <Paper elevation={2} sx={{ p: isMobile ? 2 : 4, borderRadius: 2 }}>
                
                {/* CORRE√á√ÉO DO STEPPER: 
                    alternativeLabel coloca o texto embaixo da bolinha.
                    Isso economiza espa√ßo lateral.
                */}
                <Stepper 
                    activeStep={activeStep} 
                    alternativeLabel={isMobile} // Ativa apenas no mobile (ou sempre, se preferir)
                    sx={{ mb: 4 }}
                >
                    {steps.map((label) => (
                        <Step key={label}>
                            <StepLabel>{label}</StepLabel>
                        </Step>
                    ))}
                </Stepper>

                {error && (
                    <Alert severity="error" sx={{ mb: 3 }} onClose={() => setError(null)}>
                        {error}
                    </Alert>
                )}

                <Box sx={{ minHeight: isMobile ? 300 : 400 }}>
                    {renderStepContent(activeStep)}
                </Box>

                {/* Bot√µes de A√ß√£o */}
                <Box sx={{ display: 'flex', justifyContent: 'space-between', mt: 4, flexDirection: isMobile ? 'column-reverse' : 'row', gap: 2 }}>
                    <Button
                        disabled={activeStep === 0 || loading}
                        onClick={handleBack}
                        startIcon={<NavigateBefore />}
                        variant="outlined"
                        fullWidth={isMobile} // Bot√£o largura total no mobile
                        size={isMobile ? "large" : "medium"}
                    >
                        Voltar
                    </Button>

                    <Box sx={{ display: 'flex', gap: 2, width: isMobile ? '100%' : 'auto' }}>
                        {activeStep === steps.length - 1 ? (
                            <>
                                {/* No √∫ltimo passo, mostramos Reiniciar e Calcular */}
                                {!isMobile && (
                                    <Button
                                        onClick={handleReset}
                                        variant="outlined"
                                        disabled={loading}
                                    >
                                        Reiniciar
                                    </Button>
                                )}
                                
                                <Button
                                    onClick={handleSubmit}
                                    variant="contained"
                                    startIcon={loading ? <CircularProgress size={20} color="inherit"/> : <Calculate />}
                                    disabled={loading || !isStepValid()}
                                    fullWidth={isMobile}
                                    size={isMobile ? "large" : "medium"}
                                    sx={{
                                        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',
                                        '&:hover': {
                                            background: 'linear-gradient(135deg, #5568d3 0%, #6a3f8f 100%)',
                                        },
                                    }}
                                >
                                    {loading ? 'Calculando...' : 'Calcular ROI'}
                                </Button>
                            </>
                        ) : (
                            <Button
                                onClick={handleNext}
                                variant="contained"
                                endIcon={<NavigateNext />}
                                disabled={!isStepValid()}
                                fullWidth={isMobile}
                                size={isMobile ? "large" : "medium"}
                            >
                                Pr√≥ximo
                            </Button>
                        )}
                    </Box>
                </Box>
            </Paper>
        </Container>
    );
}

==================================================================
ARQUIVO: \frontend\src\components\Settings.jsx
==================================================================

// frontend/src/components/Settings.jsx
import React, { useEffect, useState } from 'react';
import { 
  Container, Paper, Typography, Grid, TextField, Button, Box, Alert, 
  Table, TableBody, TableCell, TableContainer, TableHead, TableRow, IconButton, Tooltip 
} from '@mui/material';
import { Save, PersonAdd, Delete } from '@mui/icons-material';
import { settingsService } from '../services/api';

export default function Settings() {
  const [settings, setSettings] = useState(null);
  const [loading, setLoading] = useState(true);
  const [message, setMessage] = useState(null);

  useEffect(() => { loadSettings(); }, []);

  const loadSettings = async () => {
    try {
      const data = await settingsService.getSettings();
      if (!data.team_composition) data.team_composition = [];
      setSettings(data);
    } catch (error) {
      console.error(error);
      setMessage({ type: 'error', text: 'Erro ao carregar dados.' });
    } finally { setLoading(false); }
  };

  const handleRoleChange = (index, field, value) => {
    const newTeam = [...settings.team_composition];
    newTeam[index][field] = field === 'role' ? value : parseFloat(value);
    setSettings({ ...settings, team_composition: newTeam });
  };

  const handleAddRole = () => {
    const newTeam = [
        ...(settings.team_composition || []), 
        { role: 'Novo Cargo', rate: 0, share: 0.0 }
    ];
    setSettings({ ...settings, team_composition: newTeam });
  };

  const handleDeleteRole = (index) => {
    const newTeam = settings.team_composition.filter((_, i) => i !== index);
    setSettings({ ...settings, team_composition: newTeam });
  };

  const getTotalShare = () => {
    if (!settings?.team_composition) return 0;
    return settings.team_composition.reduce((acc, curr) => acc + (parseFloat(curr.share) || 0), 0);
  };

  const handleSave = async () => {
    if (settings.team_composition.length > 0 && Math.abs(getTotalShare() - 1.0) > 0.01) {
      setMessage({ type: 'warning', text: 'Aten√ß√£o: A soma da participa√ß√£o (%) deve ser 100% (1.0).' });
    }
    try {
      await settingsService.updateSettings(settings);
      setMessage({ type: 'success', text: 'Configura√ß√µes salvas com sucesso!' });
    } catch (error) {
      setMessage({ type: 'error', text: 'Erro ao salvar.' });
    }
  };

  if (loading || !settings) return <Box p={4}>Carregando...</Box>;

  return (
    <Container maxWidth="lg">
      <Typography variant="h5" sx={{ mb: 3, fontWeight: 'bold', color: '#1a237e' }}>
        Configura√ß√µes da Squad & Custos
      </Typography>
      
      {message && <Alert severity={message.type} sx={{ mb: 3 }} onClose={() => setMessage(null)}>{message.text}</Alert>}

      <Paper elevation={3} sx={{ p: 4, mb: 4 }}>
        <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'center', mb: 2 }}>
            <Typography variant="h6">Composi√ß√£o da Squad</Typography>
            <Button 
                variant="outlined" 
                startIcon={<PersonAdd />} 
                onClick={handleAddRole}
                size="small"
            >
                Adicionar Cargo
            </Button>
        </Box>
        
        <Typography variant="body2" color="text.secondary" sx={{ mb: 2 }}>
            Defina os perfis. O custo de desenvolvimento ser√° uma m√©dia ponderada.
        </Typography>

        <TableContainer sx={{ mb: 2, border: '1px solid #e0e0e0', borderRadius: 2 }}>
            <Table size="small">
                <TableHead sx={{ bgcolor: '#f5f5f5' }}>
                    <TableRow>
                        <TableCell>Perfil / Cargo</TableCell>
                        <TableCell width="20%">Custo Hora (R$)</TableCell>
                        <TableCell width="20%">Participa√ß√£o (0.0 a 1.0)</TableCell>
                        <TableCell width="10%" align="center">A√ß√µes</TableCell>
                    </TableRow>
                </TableHead>
                <TableBody>
                    {settings.team_composition?.length === 0 && (
                        <TableRow>
                            <TableCell colSpan={4} align="center" sx={{ py: 3, color: 'text.secondary' }}>
                                Nenhum perfil configurado. Clique em "Adicionar Cargo".
                            </TableCell>
                        </TableRow>
                    )}
                    {settings.team_composition?.map((member, index) => (
                        <TableRow key={index}>
                            <TableCell>
                                <TextField 
                                    fullWidth variant="standard" 
                                    value={member.role} 
                                    onChange={(e) => handleRoleChange(index, 'role', e.target.value)} 
                                />
                            </TableCell>
                            <TableCell>
                                <TextField 
                                    fullWidth type="number" variant="standard" 
                                    value={member.rate} 
                                    onChange={(e) => handleRoleChange(index, 'rate', e.target.value)} 
                                />
                            </TableCell>
                            <TableCell>
                                <TextField 
                                    fullWidth type="number" step="0.1" variant="standard" 
                                    value={member.share} 
                                    error={getTotalShare() > 1.01}
                                    onChange={(e) => handleRoleChange(index, 'share', e.target.value)} 
                                />
                            </TableCell>
                            <TableCell align="center">
                                <Tooltip title="Remover">
                                    <IconButton size="small" color="error" onClick={() => handleDeleteRole(index)}>
                                        <Delete />
                                    </IconButton>
                                </Tooltip>
                            </TableCell>
                        </TableRow>
                    ))}
                    {settings.team_composition?.length > 0 && (
                        <TableRow>
                            <TableCell colSpan={2} align="right"><strong>Total Participa√ß√£o:</strong></TableCell>
                            <TableCell>
                                <Typography color={Math.abs(getTotalShare() - 1) > 0.01 ? 'error' : 'success.main'} fontWeight="bold">
                                    {(getTotalShare() * 100).toFixed(0)}%
                                </Typography>
                            </TableCell>
                            <TableCell />
                        </TableRow>
                    )}
                </TableBody>
            </Table>
        </TableContainer>

        <Typography variant="h6" gutterBottom sx={{ mt: 4 }}>Custos de Infraestrutura & Licen√ßas (Anual)</Typography>
        <Grid container spacing={3}>
            <Grid item xs={12} md={4}>
                <TextField 
                    fullWidth 
                    label="Licen√ßa RPA (Bot Runner)" 
                    type="number" 
                    value={settings.infra_costs?.rpa_license_annual ?? 0}
                    onChange={(e) => setSettings({...settings, infra_costs: {...settings.infra_costs, rpa_license_annual: parseFloat(e.target.value)}})}
                    InputLabelProps={{ shrink: true }} // <--- CORRE√á√ÉO AQUI
                />
            </Grid>
            <Grid item xs={12} md={4}>
                <TextField 
                    fullWidth 
                    label="Servidor / VM" 
                    type="number" 
                    value={settings.infra_costs?.virtual_machine_annual ?? 0}
                    onChange={(e) => setSettings({...settings, infra_costs: {...settings.infra_costs, virtual_machine_annual: parseFloat(e.target.value)}})}
                    InputLabelProps={{ shrink: true }} // <--- CORRE√á√ÉO AQUI
                />
            </Grid>
            <Grid item xs={12} md={4}>
                <TextField 
                    fullWidth 
                    label="Banco de Dados / Storage" 
                    type="number" 
                    value={settings.infra_costs?.database_annual ?? 0}
                    onChange={(e) => setSettings({...settings, infra_costs: {...settings.infra_costs, database_annual: parseFloat(e.target.value)}})}
                    InputLabelProps={{ shrink: true }} // <--- CORRE√á√ÉO AQUI
                />
            </Grid>
        </Grid>

        <Box sx={{ mt: 4, display: 'flex', justifyContent: 'flex-end' }}>
          <Button variant="contained" startIcon={<Save />} size="large" onClick={handleSave}>
            Salvar Configura√ß√µes
          </Button>
        </Box>
      </Paper>
    </Container>
  );
}

==================================================================
ARQUIVO: \frontend\src\components\SignUp.jsx
==================================================================

// frontend/src/components/SignUp.jsx
import React, { useState } from 'react';
import { Container, Paper, TextField, Button, Typography, Box, Alert, Link } from '@mui/material';
import { PersonAdd } from '@mui/icons-material';
import { useAuth } from '../contexts/AuthContext';

export default function SignUp({ onSwitchToLogin }) {
    const [email, setEmail] = useState('');
    const [password, setPassword] = useState('');
    const [confirmPassword, setConfirmPassword] = useState('');
    const [error, setError] = useState('');
    const [loading, setLoading] = useState(false);
    
    const { signup, createUserProfile } = useAuth();

    async function handleSubmit(e) {
        e.preventDefault();

        // 1. Valida√ß√£o de Senha Iguais
        if (password !== confirmPassword) {
            return setError('As senhas n√£o coincidem.');
        }

        // 2. Valida√ß√£o de Regras B√°sicas
        if (password.length < 6) {
            return setError('A senha deve ter pelo menos 6 caracteres.');
        }

        try {
            setError('');
            setLoading(true);
            
            // Criar usu√°rio no Auth
            const userCredential = await signup(email, password);
            
            // Criar perfil no Firestore
            await createUserProfile(userCredential.user);
            
            // O App.jsx vai detectar o login automaticamente
        } catch (err) {
            console.error(err);
            if (err.code === 'auth/email-already-in-use') {
                setError('Este e-mail j√° est√° cadastrado.');
            } else if (err.code === 'auth/weak-password') {
                setError('A senha √© muito fraca.');
            } else {
                setError('Falha ao criar conta. Tente novamente.');
            }
        }

        setLoading(false);
    }

    return (
        <Container component="main" maxWidth="xs" sx={{ height: '100vh', display: 'flex', alignItems: 'center' }}>
            <Paper elevation={6} sx={{ p: 4, display: 'flex', flexDirection: 'column', alignItems: 'center', width: '100%' }}>
                <Box sx={{ bgcolor: 'secondary.main', color: 'white', p: 2, borderRadius: '50%', mb: 2 }}>
                    <PersonAdd fontSize="large" />
                </Box>
                <Typography component="h1" variant="h5" fontWeight="bold" sx={{ mb: 3 }}>
                    Criar Conta
                </Typography>
                
                {error && <Alert severity="error" sx={{ width: '100%', mb: 2 }}>{error}</Alert>}

                <Box component="form" onSubmit={handleSubmit} sx={{ mt: 1, width: '100%' }}>
                    <TextField
                        margin="normal" required fullWidth
                        label="Email Corporativo" type="email"
                        value={email} onChange={(e) => setEmail(e.target.value)}
                    />
                    <TextField
                        margin="normal" required fullWidth
                        label="Senha" type="password"
                        value={password} onChange={(e) => setPassword(e.target.value)}
                        helperText="M√≠nimo de 6 caracteres"
                    />
                    <TextField
                        margin="normal" required fullWidth
                        label="Confirmar Senha" type="password"
                        value={confirmPassword} onChange={(e) => setConfirmPassword(e.target.value)}
                    />
                    
                    <Button
                        type="submit" fullWidth variant="contained" color="secondary"
                        sx={{ mt: 3, mb: 2, py: 1.5, fontWeight: 'bold' }}
                        disabled={loading}
                    >
                        {loading ? 'Cadastrando...' : 'Cadastrar'}
                    </Button>

                    <Box sx={{ textAlign: 'center', mt: 2 }}>
                        <Typography variant="body2">
                            J√° tem uma conta?{' '}
                            <Link component="button" variant="body2" onClick={onSwitchToLogin}>
                                Fazer Login
                            </Link>
                        </Typography>
                    </Box>
                </Box>
            </Paper>
        </Container>
    );
}

==================================================================
ARQUIVO: \frontend\src\components\steps\Step1ProjectInfo.jsx
==================================================================

import React from 'react';
import {
    Box,
    TextField,
    Typography,
    Paper,
} from '@mui/material';
import { Business } from '@mui/icons-material';

export default function Step1ProjectInfo({ data, onChange }) {
    return (
        <Box>
            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>
                <Business sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />
                <Box>
                    <Typography variant="h5" fontWeight={600}>
                        Informa√ß√µes do Projeto
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                        Identifique o projeto de automa√ß√£o
                    </Typography>
                </Box>
            </Box>

            <Paper
                elevation={0}
                sx={{
                    p: 3,
                    backgroundColor: 'grey.50',
                    borderRadius: 2,
                }}
            >
                <TextField
                    fullWidth
                    label="Nome do Projeto"
                    placeholder="Ex: Automa√ß√£o de Faturamento Mensal"
                    value={data.projectName}
                    onChange={(e) => onChange('projectName', e.target.value)}
                    required
                    variant="outlined"
                    sx={{ mb: 3 }}
                    helperText="D√™ um nome descritivo para este projeto de automa√ß√£o"
                />

                <TextField
                    fullWidth
                    label="Respons√°vel (Opcional)"
                    placeholder="Ex: Jo√£o Silva"
                    value={data.ownerUid}
                    onChange={(e) => onChange('ownerUid', e.target.value || 'anonymous')}
                    variant="outlined"
                    helperText="Nome ou ID do respons√°vel pelo projeto"
                />
            </Paper>

            <Box
                sx={{
                    mt: 3,
                    p: 2,
                    backgroundColor: 'info.lighter',
                    borderLeft: 4,
                    borderColor: 'info.main',
                    borderRadius: 1,
                }}
            >
                <Typography variant="body2" color="info.dark">
                    <strong>Dica:</strong> Use um nome que facilite a identifica√ß√£o deste projeto
                    no futuro. Voc√™ poder√° criar m√∫ltiplas simula√ß√µes.
                </Typography>
            </Box>
        </Box>
    );
}


==================================================================
ARQUIVO: \frontend\src\components\steps\Step2AsIsInputs.jsx
==================================================================

import React from 'react';
import { Box, TextField, Typography, Paper, Grid, InputAdornment, Slider, Tooltip, IconButton } from '@mui/material';
import { TrendingUp, AccessTime, AttachMoney, ErrorOutline, Info } from '@mui/icons-material';

export default function Step2AsIsInputs({ data, onChange }) {
    const handleChange = (field, value) => {
        onChange({ ...data, [field]: value });
    };

    return (
        <Box>
            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>
                <TrendingUp sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />
                <Box>
                    <Typography variant="h5" fontWeight={600}>An√°lise do Processo (AS-IS)</Typography>
                    <Typography variant="body2" color="text.secondary">Detalhe as m√©tricas operacionais para c√°lculo de baseline.</Typography>
                </Box>
            </Box>

            <Paper elevation={0} sx={{ p: 3, backgroundColor: 'grey.50', borderRadius: 2 }}>
                <Grid container spacing={3}>
                    {/* Se√ß√£o 1: Volumetria */}
                    <Grid item xs={12}>
                        <Typography variant="subtitle2" color="primary" gutterBottom>M√âTRICAS DE VOLUMETRIA</Typography>
                    </Grid>
                    
                    <Grid item xs={12} md={6}>
                        <TextField
                            fullWidth label="Volume Mensal M√©dio" type="number"
                            value={data.volume} onChange={(e) => handleChange('volume', e.target.value)}
                            required
                            InputProps={{ startAdornment: <InputAdornment position="start"><TrendingUp color="action" /></InputAdornment> }}
                            helperText="Total de itens processados por m√™s em m√©dia"
                        />
                    </Grid>
                    <Grid item xs={12} md={6}>
                        <TextField
                            fullWidth label="Pico Sazonal (%)" type="number"
                            placeholder="0"
                            value={data.peakVolume || ''} onChange={(e) => handleChange('peakVolume', e.target.value)}
                            InputProps={{ endAdornment: <InputAdornment position="end">%</InputAdornment> }}
                            helperText="Quanto o volume aumenta em √©pocas de pico? (Ex: Black Friday)"
                        />
                    </Grid>

                    {/* Se√ß√£o 2: Tempo e Custo */}
                    <Grid item xs={12} sx={{ mt: 2 }}>
                        <Typography variant="subtitle2" color="primary" gutterBottom>TEMPO E CUSTO HUMANO</Typography>
                    </Grid>

                    <Grid item xs={12} md={4}>
                        <TextField
                            fullWidth label="TMT (Tempo M√©dio Tratativa)" type="number"
                            value={data.aht} onChange={(e) => handleChange('aht', e.target.value)}
                            required
                            InputProps={{ 
                                startAdornment: <InputAdornment position="start"><AccessTime color="action" /></InputAdornment>,
                                endAdornment: <InputAdornment position="end">min</InputAdornment> 
                            }}
                            helperText="Tempo que um humano leva por item"
                        />
                    </Grid>
                    <Grid item xs={12} md={4}>
                        <TextField
                            fullWidth label="Custo Mensal FTE (Encargos)" type="number"
                            value={data.fteCost} onChange={(e) => handleChange('fteCost', e.target.value)}
                            required
                            InputProps={{ 
                                startAdornment: <InputAdornment position="start"><AttachMoney color="action" /></InputAdornment>,
                                endAdornment: <InputAdornment position="end">R$</InputAdornment> 
                            }}
                            helperText="Sal√°rio + Encargos + Benef√≠cios"
                        />
                    </Grid>
                    <Grid item xs={12} md={4}>
                        <TextField
                            fullWidth label="Crescimento Anual Esperado" type="number"
                            value={data.annualGrowth || ''} onChange={(e) => handleChange('annualGrowth', e.target.value)}
                            InputProps={{ endAdornment: <InputAdornment position="end">% / ano</InputAdornment> }}
                            helperText="Proje√ß√£o de aumento de demanda"
                        />
                    </Grid>

                    {/* Se√ß√£o 3: Qualidade */}
                    <Grid item xs={12} sx={{ mt: 2 }}>
                        <Box sx={{ display: 'flex', alignItems: 'center' }}>
                            <Typography variant="subtitle2" color="primary" sx={{ mr: 1 }}>QUALIDADE E RETRABALHO</Typography>
                            <Tooltip title="O retrabalho afeta diretamente o custo oculto. Automa√ß√£o tende a zerar isso.">
                                <IconButton size="small"><Info fontSize="small" /></IconButton>
                            </Tooltip>
                        </Box>
                    </Grid>

                    <Grid item xs={12}>
                        <Box sx={{ display: 'flex', alignItems: 'center', gap: 2 }}>
                            <ErrorOutline color="action" />
                            <Box sx={{ flex: 1 }}>
                                <Typography variant="body2" gutterBottom>Taxa de Erro Humano / Retrabalho</Typography>
                                <Slider
                                    value={parseFloat(data.errorRate) || 0}
                                    onChange={(e, value) => handleChange('errorRate', value)}
                                    min={0} max={20} step={0.5}
                                    marks={[{ value: 0, label: '0%' }, { value: 10, label: '10%' }, { value: 20, label: '20%' }]}
                                    valueLabelDisplay="auto"
                                    valueLabelFormat={(value) => `${value}%`}
                                />
                            </Box>
                        </Box>
                    </Grid>
                </Grid>
            </Paper>
        </Box>
    );
}

==================================================================
ARQUIVO: \frontend\src\components\steps\Step3Complexity.jsx
==================================================================

import React from 'react';
import {
    Box,
    Typography,
    Paper,
    Grid,
    FormControl,
    InputLabel,
    Select,
    MenuItem,
    TextField,
    Chip,
} from '@mui/material';
import {
    Settings,
    Apps,
    Storage,
    Cloud,
    AccountTree,
} from '@mui/icons-material';

export default function Step3Complexity({ data, onChange }) {
    const handleChange = (field, value) => {
        onChange({
            ...data,
            [field]: value,
        });
    };

    const getComplexityEstimate = () => {
        let points = 0;

        // N√∫mero de aplica√ß√µes
        if (data.numApplications <= 2) points += 1;
        else if (data.numApplications <= 4) points += 2;
        else points += 3;

        // Tipo de dados
        if (data.dataType === 'structured') points += 1;
        else if (data.dataType === 'text') points += 2;
        else points += 5;

        // Ambiente
        if (data.environment === 'web') points += 1;
        else if (data.environment === 'sap') points += 2;
        else points += 4;

        // Passos
        if (data.numSteps < 20) points += 1;
        else if (data.numSteps <= 50) points += 3;
        else points += 5;

        if (points >= 12) return { level: 'ALTA', color: 'error' };
        if (points >= 7) return { level: 'M√âDIA', color: 'warning' };
        return { level: 'BAIXA', color: 'success' };
    };

    const complexity = getComplexityEstimate();

    return (
        <Box>
            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>
                <Settings sx={{ fontSize: 40, color: 'primary.main', mr: 2 }} />
                <Box sx={{ flex: 1 }}>
                    <Typography variant="h5" fontWeight={600}>
                        An√°lise de Complexidade
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                        Avalie as caracter√≠sticas t√©cnicas da automa√ß√£o
                    </Typography>
                </Box>
                <Chip
                    label={`Complexidade: ${complexity.level}`}
                    color={complexity.color}
                    sx={{ fontWeight: 600 }}
                />
            </Box>

            <Paper
                elevation={0}
                sx={{
                    p: 3,
                    backgroundColor: 'grey.50',
                    borderRadius: 2,
                }}
            >
                <Grid container spacing={3}>
                    <Grid item xs={12} md={6}>
                        <TextField
                            fullWidth
                            label="N√∫mero de Aplica√ß√µes"
                            type="number"
                            value={data.numApplications}
                            onChange={(e) => handleChange('numApplications', e.target.value)}
                            required
                            InputProps={{
                                startAdornment: <Apps color="action" sx={{ mr: 1 }} />,
                            }}
                            helperText="Quantos sistemas diferentes o rob√¥ ir√° integrar?"
                        />
                    </Grid>

                    <Grid item xs={12} md={6}>
                        <FormControl fullWidth required>
                            <InputLabel>Tipo de Dados</InputLabel>
                            <Select
                                value={data.dataType}
                                onChange={(e) => handleChange('dataType', e.target.value)}
                                label="Tipo de Dados"
                                startAdornment={<Storage color="action" sx={{ ml: 1, mr: 1 }} />}
                            >
                                <MenuItem value="structured">
                                    <Box>
                                        <Typography variant="body1">Estruturados</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Excel, CSV, Banco de Dados
                                        </Typography>
                                    </Box>
                                </MenuItem>
                                <MenuItem value="text">
                                    <Box>
                                        <Typography variant="body1">Texto/E-mail</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Processamento de texto, e-mails
                                        </Typography>
                                    </Box>
                                </MenuItem>
                                <MenuItem value="ocr">
                                    <Box>
                                        <Typography variant="body1">Imagem/OCR</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Reconhecimento de caracteres, PDFs escaneados
                                        </Typography>
                                    </Box>
                                </MenuItem>
                            </Select>
                        </FormControl>
                    </Grid>

                    <Grid item xs={12} md={6}>
                        <FormControl fullWidth required>
                            <InputLabel>Ambiente</InputLabel>
                            <Select
                                value={data.environment}
                                onChange={(e) => handleChange('environment', e.target.value)}
                                label="Ambiente"
                                startAdornment={<Cloud color="action" sx={{ ml: 1, mr: 1 }} />}
                            >
                                <MenuItem value="web">
                                    <Box>
                                        <Typography variant="body1">Web/Local</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Aplica√ß√µes web ou desktop padr√£o
                                        </Typography>
                                    </Box>
                                </MenuItem>
                                <MenuItem value="sap">
                                    <Box>
                                        <Typography variant="body1">SAP/Mainframe</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Sistemas legados, SAP
                                        </Typography>
                                    </Box>
                                </MenuItem>
                                <MenuItem value="citrix">
                                    <Box>
                                        <Typography variant="body1">Citrix/Remoto</Typography>
                                        <Typography variant="caption" color="text.secondary">
                                            Ambientes virtualizados, acesso remoto
                                        </Typography>
                                    </Box>
                                </MenuItem>
                            </Select>
                        </FormControl>
                    </Grid>

                    <Grid item xs={12} md={6}>
                        <TextField
                            fullWidth
                            label="N√∫mero de Passos/Regras"
                            type="number"
                            value={data.numSteps}
                            onChange={(e) => handleChange('numSteps', e.target.value)}
                            required
                            InputProps={{
                                startAdornment: <AccountTree color="action" sx={{ mr: 1 }} />,
                            }}
                            helperText="Quantos passos ou regras de neg√≥cio o processo possui?"
                        />
                    </Grid>
                </Grid>
            </Paper>

            <Box
                sx={{
                    mt: 3,
                    p: 2,
                    backgroundColor: 'info.lighter',
                    borderLeft: 4,
                    borderColor: 'info.main',
                    borderRadius: 1,
                }}
            >
                <Typography variant="body2" color="info.dark">
                    <strong>Nota:</strong> A complexidade √© calculada automaticamente com base
                    nestes crit√©rios e impacta diretamente no tempo de desenvolvimento e custo
                    do projeto.
                </Typography>
            </Box>
        </Box>
    );
}


==================================================================
ARQUIVO: \frontend\src\components\steps\Step4Review.jsx
==================================================================

import React from 'react';
import {
    Box,
    Typography,
    Paper,
    Grid,
    Divider,
    Chip,
} from '@mui/material';
import {
    CheckCircle,
    Business,
    TrendingUp,
    Settings,
} from '@mui/icons-material';

export default function Step4Review({ data }) {
    const formatCurrency = (value) => {
        return new Intl.NumberFormat('pt-BR', {
            style: 'currency',
            currency: 'BRL',
        }).format(value);
    };

    const getComplexityLabel = () => {
        let points = 0;

        if (data.complexity.numApplications <= 2) points += 1;
        else if (data.complexity.numApplications <= 4) points += 2;
        else points += 3;

        if (data.complexity.dataType === 'structured') points += 1;
        else if (data.complexity.dataType === 'text') points += 2;
        else points += 5;

        if (data.complexity.environment === 'web') points += 1;
        else if (data.complexity.environment === 'sap') points += 2;
        else points += 4;

        if (data.complexity.numSteps < 20) points += 1;
        else if (data.complexity.numSteps <= 50) points += 3;
        else points += 5;

        if (points >= 12) return { level: 'ALTA', color: 'error' };
        if (points >= 7) return { level: 'M√âDIA', color: 'warning' };
        return { level: 'BAIXA', color: 'success' };
    };

    const complexity = getComplexityLabel();

    const dataTypeLabels = {
        structured: 'Estruturados (Excel, CSV)',
        text: 'Texto/E-mail',
        ocr: 'Imagem/OCR',
    };

    const environmentLabels = {
        web: 'Web/Local',
        sap: 'SAP/Mainframe',
        citrix: 'Citrix/Remoto',
    };

    return (
        <Box>
            <Box sx={{ display: 'flex', alignItems: 'center', mb: 3 }}>
                <CheckCircle sx={{ fontSize: 40, color: 'success.main', mr: 2 }} />
                <Box>
                    <Typography variant="h5" fontWeight={600}>
                        Revis√£o dos Dados
                    </Typography>
                    <Typography variant="body2" color="text.secondary">
                        Confira as informa√ß√µes antes de calcular o ROI
                    </Typography>
                </Box>
            </Box>

            {/* Informa√ß√µes do Projeto */}
            <Paper
                elevation={0}
                sx={{
                    p: 3,
                    mb: 2,
                    backgroundColor: 'grey.50',
                    borderRadius: 2,
                }}
            >
                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                    <Business color="primary" sx={{ mr: 1 }} />
                    <Typography variant="h6" fontWeight={600}>
                        Informa√ß√µes do Projeto
                    </Typography>
                </Box>
                <Grid container spacing={2}>
                    <Grid item xs={12} sm={6}>
                        <Typography variant="caption" color="text.secondary">
                            Nome do Projeto
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.projectName}
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6}>
                        <Typography variant="caption" color="text.secondary">
                            Respons√°vel
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.ownerUid || 'N√£o informado'}
                        </Typography>
                    </Grid>
                </Grid>
            </Paper>

            {/* Cen√°rio AS-IS */}
            <Paper
                elevation={0}
                sx={{
                    p: 3,
                    mb: 2,
                    backgroundColor: 'grey.50',
                    borderRadius: 2,
                }}
            >
                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                    <TrendingUp color="primary" sx={{ mr: 1 }} />
                    <Typography variant="h6" fontWeight={600}>
                        Cen√°rio AS-IS (Atual)
                    </Typography>
                </Box>
                <Grid container spacing={2}>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            Volume Mensal
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {parseFloat(data.inputs.volume).toLocaleString('pt-BR')} transa√ß√µes
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            AHT
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.inputs.aht} minutos
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            Custo FTE
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {formatCurrency(data.inputs.fteCost)}/m√™s
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            Taxa de Erro
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.inputs.errorRate}%
                        </Typography>
                    </Grid>
                </Grid>
            </Paper>

            {/* Complexidade */}
            <Paper
                elevation={0}
                sx={{
                    p: 3,
                    backgroundColor: 'grey.50',
                    borderRadius: 2,
                }}
            >
                <Box sx={{ display: 'flex', alignItems: 'center', mb: 2 }}>
                    <Settings color="primary" sx={{ mr: 1 }} />
                    <Typography variant="h6" fontWeight={600} sx={{ flex: 1 }}>
                        An√°lise de Complexidade
                    </Typography>
                    <Chip
                        label={`Complexidade: ${complexity.level}`}
                        color={complexity.color}
                        sx={{ fontWeight: 600 }}
                    />
                </Box>
                <Grid container spacing={2}>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            N¬∫ de Aplica√ß√µes
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.complexity.numApplications}
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            Tipo de Dados
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {dataTypeLabels[data.complexity.dataType]}
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            Ambiente
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {environmentLabels[data.complexity.environment]}
                        </Typography>
                    </Grid>
                    <Grid item xs={12} sm={6} md={3}>
                        <Typography variant="caption" color="text.secondary">
                            N¬∫ de Passos
                        </Typography>
                        <Typography variant="body1" fontWeight={500}>
                            {data.complexity.numSteps}
                        </Typography>
                    </Grid>
                </Grid>
            </Paper>

            <Box
                sx={{
                    mt: 3,
                    p: 2,
                    backgroundColor: 'success.lighter',
                    borderLeft: 4,
                    borderColor: 'success.main',
                    borderRadius: 1,
                }}
            >
                <Typography variant="body2" color="success.dark">
                    <strong>Tudo pronto!</strong> Clique em "Calcular ROI" para processar os dados
                    e visualizar os resultados financeiros da automa√ß√£o.
                </Typography>
            </Box>
        </Box>
    );
}


==================================================================
ARQUIVO: \frontend\src\config\firebase.js
==================================================================

import { initializeApp } from 'firebase/app';
import { getFirestore } from 'firebase/firestore';
import { getAuth } from 'firebase/auth';

const firebaseConfig = {
    apiKey: import.meta.env.VITE_FIREBASE_API_KEY,
    authDomain: import.meta.env.VITE_FIREBASE_AUTH_DOMAIN,
    projectId: import.meta.env.VITE_FIREBASE_PROJECT_ID,
    storageBucket: import.meta.env.VITE_FIREBASE_STORAGE_BUCKET,
    messagingSenderId: import.meta.env.VITE_FIREBASE_MESSAGING_SENDER_ID,
    appId: import.meta.env.VITE_FIREBASE_APP_ID,
};

// Inicializar Firebase
const app = initializeApp(firebaseConfig);

// Servi√ßos
export const db = getFirestore(app);
export const auth = getAuth(app);

export default app;


==================================================================
ARQUIVO: \frontend\src\contexts\AuthContext.jsx
==================================================================

// frontend/src/contexts/AuthContext.jsx
import React, { createContext, useContext, useEffect, useState } from 'react';
import { 
    signInWithEmailAndPassword, 
    createUserWithEmailAndPassword, // <--- Importar isso
    signOut, 
    onAuthStateChanged 
} from 'firebase/auth';
import { doc, getDoc, setDoc } from 'firebase/firestore'; // <--- Importar setDoc
import { auth, db } from '../config/firebase';

const AuthContext = createContext();

export function useAuth() {
    return useContext(AuthContext);
}

export function AuthProvider({ children }) {
    const [currentUser, setCurrentUser] = useState(null);
    const [userRole, setUserRole] = useState('user');
    const [loading, setLoading] = useState(true);

    function login(email, password) {
        return signInWithEmailAndPassword(auth, email, password);
    }

    // NOVA FUN√á√ÉO: Cadastro
    function signup(email, password) {
        return createUserWithEmailAndPassword(auth, email, password);
    }

    // Fun√ß√£o auxiliar para criar o perfil no banco ap√≥s o cadastro
    function createUserProfile(user, role = 'user') {
        return setDoc(doc(db, 'users', user.uid), {
            email: user.email,
            role: role,
            created_at: new Date().toISOString()
        });
    }

    function logout() {
        return signOut(auth);
    }

    useEffect(() => {
        const unsubscribe = onAuthStateChanged(auth, async (user) => {
            if (user) {
                setCurrentUser(user);
                try {
                    const userDocRef = doc(db, 'users', user.uid);
                    const userDoc = await getDoc(userDocRef);
                    if (userDoc.exists()) {
                        setUserRole(userDoc.data().role || 'user');
                    } else {
                        setUserRole('user');
                    }
                } catch (error) {
                    console.error("Erro ao buscar permiss√µes:", error);
                    setUserRole('user');
                }
            } else {
                setCurrentUser(null);
                setUserRole('user');
            }
            setLoading(false);
        });

        return unsubscribe;
    }, []);

    const value = {
        currentUser,
        userRole,
        isAdmin: userRole === 'admin',
        login,
        signup, // <--- Exportar
        createUserProfile, // <--- Exportar
        logout
    };

    return (
        <AuthContext.Provider value={value}>
            {!loading && children}
        </AuthContext.Provider>
    );
}

==================================================================
ARQUIVO: \frontend\src\main.jsx
==================================================================

import React from 'react';
import ReactDOM from 'react-dom/client';
import App from './App.jsx';
import './config/firebase.js';

ReactDOM.createRoot(document.getElementById('root')).render(
    <React.StrictMode>
        <App />
    </React.StrictMode>
);


==================================================================
ARQUIVO: \frontend\src\services\api.js
==================================================================

import axios from 'axios';

const API_URL = import.meta.env.VITE_API_URL || 'http://localhost:5000';

const api = axios.create({
    baseURL: `${API_URL}/api`,
    headers: {
        'Content-Type': 'application/json',
    },
    timeout: 30000, // 30 segundos
});

/**
 * Servi√ßo de API para projetos
 */
export const projectService = {
    /**
     * Cria um novo projeto
     */
    async createProject(data) {
        const response = await api.post('/projects', data);
        return response.data;
    },

    /**
     * Busca um projeto por ID
     */
    async getProject(id) {
        const response = await api.get(`/projects/${id}`);
        return response.data;
    },

    /**
     * Lista projetos de um usu√°rio
     */
    async listProjects(ownerUid) {
        const response = await api.get('/projects', {
            params: { ownerUid },
        });
        return response.data;
    },

    /**
     * Atualiza um projeto
     */
    async updateProject(id, data) {
        const response = await api.put(`/projects/${id}`, data);
        return response.data;
    },

    /**
     * Deleta um projeto
     */
    async deleteProject(id) {
        const response = await api.delete(`/projects/${id}`);
        return response.data;
    },
};

/**
 * Servi√ßo de API para configura√ß√µes
 */
export const settingsService = {
    /**
     * Busca configura√ß√µes globais
     */
    async getSettings() {
        const response = await api.get('/settings');
        return response.data;
    },

    /**
     * Atualiza configura√ß√µes globais
     */
    async updateSettings(data) {
        const response = await api.put('/settings', data);
        return response.data;
    },
};

/**
 * Health check
 */
export const healthCheck = async () => {
    const response = await api.get('/health');
    return response.data;
};

export default api;


==================================================================
ARQUIVO: \frontend\src\version.js
==================================================================

export const appVersion = "1.0.2";


==================================================================
ARQUIVO: \frontend\vite.config.js
==================================================================

// frontend/vite.config.js
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import { VitePWA } from 'vite-plugin-pwa';

export default defineConfig({
    plugins: [
        react(),
        VitePWA({
            registerType: 'autoUpdate',
            includeAssets: ['logo.png'], // Inclui o logo nos assets cacheados
            manifest: {
                name: 'RPA ROI Navigator',
                short_name: 'ROI Navigator',
                description: 'Calculadora de ROI para Automa√ß√µes RPA',
                theme_color: '#1a237e',
                background_color: '#ffffff',
                display: 'standalone',
                icons: [
                    {
                        src: 'logo.png', // Aponta para o arquivo na pasta public
                        sizes: '192x192', // O navegador tentar√° redimensionar
                        type: 'image/png',
                    },
                    {
                        src: 'logo.png',
                        sizes: '512x512',
                        type: 'image/png',
                    },
                    {
                        src: 'logo.png',
                        sizes: '512x512',
                        type: 'image/png',
                        purpose: 'any maskable',
                    }
                ],
            },
        }),
    ],
    server: {
        port: 5173,
        open: true,
    },
});

==================================================================
ARQUIVO: \git-init.js
==================================================================

const { execSync } = require('child_process');
const readline = require('readline');

// Configura√ß√£o para ler entrada do usu√°rio no terminal
const rl = readline.createInterface({
  input: process.stdin,
  output: process.stdout
});

// Cores para o terminal (Melhora a visualiza√ß√£o)
const colors = {
  reset: "\x1b[0m",
  green: "\x1b[32m",
  yellow: "\x1b[33m",
  cyan: "\x1b[36m",
  red: "\x1b[31m"
};

console.log(`${colors.cyan}--- Script de Inicializa√ß√£o Git Autom√°tica ---${colors.reset}`);
console.log('Este script executar√°: init, add, commit, branch main, remote add e push.');
console.log('Modo de uso: node setup-git.js [URL_DO_REPO] ou apenas node setup-git.js para interativo.\n');

// Fun√ß√£o auxiliar para rodar comandos
const runCommand = (command) => {
  try {
    // stdio: 'inherit' permite que voc√™ veja a sa√≠da do git (cores, progresso) no seu terminal
    execSync(command, { stdio: 'inherit' });
    return true;
  } catch (error) {
    console.error(`${colors.red}Erro ao executar: ${command}${colors.reset}`);
    return false;
  }
};

const executeGitSequence = (remoteUrl) => {
    if (!remoteUrl || !remoteUrl.trim()) {
      console.log(`${colors.red}URL inv√°lida ou vazia. Opera√ß√£o cancelada.${colors.reset}`);
      rl.close();
      return;
    }

    const url = remoteUrl.trim();

    console.log(`\n${colors.green}1. Inicializando reposit√≥rio Git...${colors.reset}`);
    if (!runCommand('git init')) return rl.close();

    console.log(`\n${colors.green}2. Adicionando todos os arquivos...${colors.reset}`);
    if (!runCommand('git add .')) return rl.close();

    console.log(`\n${colors.green}3. Criando commit inicial...${colors.reset}`);
    // Tenta commitar. Se n√£o houver mudan√ßas (repo j√° existente), apenas avisa.
    try {
        execSync('git commit -m "Initial commit - Projeto Uma Casa Boa Pra Cachorro"', { stdio: 'inherit' });
    } catch (e) {
        console.log(`${colors.yellow}Aviso: Talvez n√£o haja nada novo para commitar.${colors.reset}`);
    }

    console.log(`\n${colors.green}4. Definindo branch principal como 'main'...${colors.reset}`);
    runCommand('git branch -M main');

    console.log(`\n${colors.green}5. Configurando reposit√≥rio remoto...${colors.reset}`);
    // Remove origin antigo se existir para evitar erro de duplicidade
    try { execSync('git remote remove origin', { stdio: 'ignore' }); } catch (e) {}
    
    if (!runCommand(`git remote add origin ${url}`)) return rl.close();

    console.log(`\n${colors.green}6. Enviando arquivos para o servidor (Push)...${colors.reset}`);
    if (runCommand('git push -u origin main')) {
        console.log(`\n${colors.cyan}>>> SUCESSO! Seu projeto est√° online. <<<${colors.reset}`);
    } else {
        console.log(`\n${colors.red}>>> O Push falhou. Verifique se a URL est√° correta e se voc√™ tem permiss√£o.${colors.reset}`);
    }

    rl.close();
};

const startSetup = () => {
  // Verifica se a URL foi passada como argumento (ex: node setup-git.js https://...)
  // process.argv[0] √© o node, [1] √© o script, [2] √© o primeiro argumento
  const argUrl = process.argv[2];

  if (argUrl) {
    console.log(`${colors.yellow}URL detectada via argumento: ${argUrl}${colors.reset}`);
    executeGitSequence(argUrl);
  } else {
    // Caso n√£o tenha argumento, pergunta interativamente
    rl.question(`${colors.yellow}Cole a URL do reposit√≥rio remoto (ex: https://github.com/seu-user/repo.git): ${colors.reset}`, (remoteUrl) => {
        executeGitSequence(remoteUrl);
    });
  }
};

// Inicia o script
startSetup();

==================================================================
ARQUIVO: \git-reset.js
==================================================================

const fs = require('fs');
const { execSync } = require('child_process');
const path = require('path');

// CONFIGURA√á√ÉO: Sua URL do GitHub
const REMOTE_URL = "https://github.com/gberbert/automation-manager.git";
const BRANCH_NAME = "master"; // Ou 'main' se preferir

console.log("üö® INICIANDO LIMPEZA PROFUNDA DO GIT...");
console.log("‚ö†Ô∏è  Isso apagar√° o hist√≥rico de commits para remover segredos expostos.\n");

try {
    // 1. Apagar a pasta .git (O c√©rebro do Git)
    const gitFolder = path.join(__dirname, '.git');
    if (fs.existsSync(gitFolder)) {
        console.log("üóëÔ∏è  Apagando pasta .git antiga...");
        fs.rmSync(gitFolder, { recursive: true, force: true });
    } else {
        console.log("‚ÑπÔ∏è  Nenhuma pasta .git encontrada (limpo).");
    }

    // Fun√ß√£o auxiliar para rodar comandos e mostrar output
    const run = (command) => {
        console.log(`\n> ${command}`);
        execSync(command, { stdio: 'inherit' });
    };

    // 2. Sequ√™ncia de comandos de Reset
    run('git init');
    
    console.log("üì¶ Adicionando arquivos (respeitando .gitignore)...");
    run('git add .');
    
    console.log("xkcd Criando novo commit limpo...");
    run('git commit -m "Reset total: Limpeza de historico e segredos"');
    
    console.log(`üåø Definindo branch principal para '${BRANCH_NAME}'...`);
    run(`git branch -M ${BRANCH_NAME}`);
    
    console.log("üîó Conectando ao reposit√≥rio remoto...");
    run(`git remote add origin ${REMOTE_URL}`);
    
    console.log("üöÄ For√ßando envio (Push Force)...");
    run(`git push -u origin ${BRANCH_NAME} --force`);

    console.log("\n‚úÖ SUCESSO! Reposit√≥rio limpo e sincronizado.");
    console.log("Agora o GitHub reflete exatamente o que est√° nesta pasta, sem hist√≥rico antigo.");

} catch (error) {
    console.error("\n‚ùå ERRO FATAL:");
    console.error(error.message);
    console.log("\nDica: Verifique se voc√™ tem permiss√£o de escrita no reposit√≥rio ou se o Git est√° instalado.");
}

==================================================================
ARQUIVO: \INDEX.md
==================================================================

# üìö √çndice Geral - RPA ROI Navigator

Bem-vindo ao **RPA ROI Navigator**! Este √© o √≠ndice completo de toda a documenta√ß√£o do projeto.

## üéØ In√≠cio R√°pido

**Novo no projeto?** Comece aqui:

1. üìñ [SUMMARY.md](SUMMARY.md) - **Leia primeiro!** Resumo executivo completo
2. üöÄ [NEXT_STEPS.md](NEXT_STEPS.md) - Guia passo a passo para come√ßar
3. ‚ö° [QUICKSTART.md](QUICKSTART.md) - Setup local em minutos

## üìñ Documenta√ß√£o Principal

### Vis√£o Geral
- [README.md](README.md) - Vis√£o geral do projeto, stack tecnol√≥gica e instru√ß√µes b√°sicas
- [SUMMARY.md](SUMMARY.md) - Resumo executivo com caracter√≠sticas, arquitetura e casos de uso

### Setup e Configura√ß√£o
- [NEXT_STEPS.md](NEXT_STEPS.md) - Guia detalhado dos pr√≥ximos passos ap√≥s cria√ß√£o do projeto
- [QUICKSTART.md](QUICKSTART.md) - Guia de in√≠cio r√°pido para desenvolvimento local
- [DEPLOY.md](DEPLOY.md) - Guia completo de deploy para produ√ß√£o (Render + Firebase)

### Documenta√ß√£o T√©cnica
- [ARCHITECTURE.md](ARCHITECTURE.md) - Arquitetura t√©cnica, modelagem de dados, regras de neg√≥cio
- [API.md](API.md) - Documenta√ß√£o completa da API REST com exemplos
- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - Estrutura de arquivos e organiza√ß√£o do c√≥digo

### Exemplos e Testes
- [EXAMPLES.md](EXAMPLES.md) - Casos de uso reais, testes de API, testes E2E

## üóÇÔ∏è Documenta√ß√£o por T√≥pico

### üèóÔ∏è Arquitetura

**Arquivo**: [ARCHITECTURE.md](ARCHITECTURE.md)

- Vis√£o geral da arquitetura
- Stack tecnol√≥gica detalhada
- Modelagem de dados (Firestore)
- Regras de neg√≥cio
- F√≥rmulas financeiras
- Fluxo de dados
- Seguran√ßa
- Performance
- Roadmap futuro

### üîå API REST

**Arquivo**: [API.md](API.md)

- Base URL e autentica√ß√£o
- Endpoints completos:
  - Health check
  - Projetos (CRUD)
  - Configura√ß√µes
- Request/Response examples
- L√≥gica de c√°lculo
- C√≥digos de status
- Exemplos com cURL e JavaScript

### üöÄ Deploy

**Arquivo**: [DEPLOY.md](DEPLOY.md)

- Configura√ß√£o do Firebase
- Deploy do backend (Render Web Service)
- Deploy do frontend (Render Static Site)
- Configura√ß√£o de CORS
- Regras de seguran√ßa do Firestore
- Checklist completo
- Troubleshooting

### üìù Exemplos

**Arquivo**: [EXAMPLES.md](EXAMPLES.md)

- Caso 1: Automa√ß√£o Simples (Complexidade BAIXA)
- Caso 2: Automa√ß√£o M√©dia (Complexidade M√âDIA)
- Caso 3: Automa√ß√£o Complexa (Complexidade ALTA)
- Caso 4: Cen√°rio com ROI Negativo
- Testes de API (cURL)
- Testes de Frontend
- Testes E2E completos
- Matriz de testes de complexidade

## üìÇ Documenta√ß√£o por Componente

### Backend

**Documenta√ß√£o**: [backend/README.md](backend/README.md)

**Arquivos Principais**:
- `src/server.js` - Entry point, configura√ß√£o Express
- `src/config/firebase.js` - Configura√ß√£o Firebase Admin
- `src/services/calculationService.js` - L√≥gica de c√°lculo de ROI e complexidade
- `src/services/projectService.js` - CRUD de projetos no Firestore
- `src/controllers/projectController.js` - Endpoints de projetos
- `src/controllers/settingsController.js` - Endpoints de configura√ß√µes
- `src/routes/index.js` - Defini√ß√£o de rotas
- `src/scripts/initFirestore.js` - Script de inicializa√ß√£o

**Tecnologias**:
- Node.js + Express
- Firebase Admin SDK
- Helmet, Morgan, CORS

### Frontend

**Documenta√ß√£o**: [frontend/README.md](frontend/README.md)

**Arquivos Principais**:
- `src/main.jsx` - Entry point React
- `src/App.jsx` - Componente principal + Tema Material UI
- `src/config/firebase.js` - Configura√ß√£o Firebase Client
- `src/services/api.js` - Cliente HTTP (Axios)
- `src/components/ROIWizard.jsx` - Wizard multi-step
- `src/components/ResultsDashboard.jsx` - Dashboard de resultados
- `src/components/steps/` - Componentes dos 4 steps do wizard

**Tecnologias**:
- React 18 + Vite
- Material UI
- Recharts (gr√°ficos)
- PWA (Service Worker)

## üéØ Guias por Objetivo

### Quero come√ßar a desenvolver localmente
1. [NEXT_STEPS.md](NEXT_STEPS.md) - Siga o passo a passo
2. [QUICKSTART.md](QUICKSTART.md) - Refer√™ncia r√°pida

### Quero entender a arquitetura
1. [ARCHITECTURE.md](ARCHITECTURE.md) - Arquitetura completa
2. [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - Estrutura de arquivos

### Quero integrar com a API
1. [API.md](API.md) - Documenta√ß√£o completa da API
2. [EXAMPLES.md](EXAMPLES.md) - Exemplos de uso

### Quero fazer deploy em produ√ß√£o
1. [DEPLOY.md](DEPLOY.md) - Guia completo de deploy
2. [ARCHITECTURE.md](ARCHITECTURE.md) - Se√ß√£o de seguran√ßa

### Quero testar a aplica√ß√£o
1. [EXAMPLES.md](EXAMPLES.md) - Casos de teste
2. [QUICKSTART.md](QUICKSTART.md) - Setup local

### Quero customizar a aplica√ß√£o
1. [ARCHITECTURE.md](ARCHITECTURE.md) - Entender regras de neg√≥cio
2. [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) - Localizar arquivos
3. C√≥digo-fonte em `backend/src/` e `frontend/src/`

## üìä Refer√™ncia R√°pida

### Comandos Principais

**Backend**:
```bash
cd backend
npm install                          # Instalar depend√™ncias
npm run dev                          # Desenvolvimento
npm start                            # Produ√ß√£o
node src/scripts/initFirestore.js   # Inicializar Firestore
```

**Frontend**:
```bash
cd frontend
npm install      # Instalar depend√™ncias
npm run dev      # Desenvolvimento
npm run build    # Build de produ√ß√£o
npm run preview  # Preview da build
```

### URLs Importantes

- **Frontend Local**: http://localhost:5173
- **Backend Local**: http://localhost:5000
- **API Health Check**: http://localhost:5000/api/health
- **Firebase Console**: https://console.firebase.google.com
- **Render Dashboard**: https://dashboard.render.com

### Estrutura de Pastas

```
rpa-calculator/
‚îú‚îÄ‚îÄ backend/          # API Node.js
‚îÇ   ‚îî‚îÄ‚îÄ src/
‚îÇ       ‚îú‚îÄ‚îÄ config/
‚îÇ       ‚îú‚îÄ‚îÄ controllers/
‚îÇ       ‚îú‚îÄ‚îÄ services/
‚îÇ       ‚îú‚îÄ‚îÄ routes/
‚îÇ       ‚îî‚îÄ‚îÄ scripts/
‚îî‚îÄ‚îÄ frontend/         # React PWA
    ‚îî‚îÄ‚îÄ src/
        ‚îú‚îÄ‚îÄ components/
        ‚îú‚îÄ‚îÄ config/
        ‚îî‚îÄ‚îÄ services/
```

## üîç Busca R√°pida

### Preciso encontrar...

**F√≥rmulas de c√°lculo**:
- [ARCHITECTURE.md](ARCHITECTURE.md) - Se√ß√£o "Regras de Neg√≥cio"
- `backend/src/services/calculationService.js`

**Endpoints da API**:
- [API.md](API.md) - Documenta√ß√£o completa
- `backend/src/routes/index.js`

**Componentes React**:
- [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)
- `frontend/src/components/`

**Configura√ß√£o do Firebase**:
- [NEXT_STEPS.md](NEXT_STEPS.md) - Passo 1
- [DEPLOY.md](DEPLOY.md) - Se√ß√£o Firebase

**Casos de teste**:
- [EXAMPLES.md](EXAMPLES.md) - Todos os casos

**Instru√ß√µes de deploy**:
- [DEPLOY.md](DEPLOY.md) - Guia completo

## üìà Fluxo de Trabalho Recomendado

### Para Desenvolvedores

1. **Entender o projeto**
   - Ler [SUMMARY.md](SUMMARY.md)
   - Ler [ARCHITECTURE.md](ARCHITECTURE.md)

2. **Setup local**
   - Seguir [NEXT_STEPS.md](NEXT_STEPS.md)
   - Consultar [QUICKSTART.md](QUICKSTART.md)

3. **Desenvolvimento**
   - Consultar [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md)
   - Consultar [API.md](API.md)

4. **Testes**
   - Usar [EXAMPLES.md](EXAMPLES.md)

5. **Deploy**
   - Seguir [DEPLOY.md](DEPLOY.md)

### Para Gestores/Stakeholders

1. **Vis√£o geral**
   - Ler [SUMMARY.md](SUMMARY.md)

2. **Casos de uso**
   - Ler [EXAMPLES.md](EXAMPLES.md) - Se√ß√£o "Casos de Uso"

3. **Roadmap**
   - Ler [ARCHITECTURE.md](ARCHITECTURE.md) - Se√ß√£o "Roadmap Futuro"

## üÜò Troubleshooting

**Problemas comuns?** Consulte:

1. [NEXT_STEPS.md](NEXT_STEPS.md) - Se√ß√£o "Verifica√ß√£o de Problemas"
2. [DEPLOY.md](DEPLOY.md) - Se√ß√£o "Troubleshooting"
3. [QUICKSTART.md](QUICKSTART.md) - Se√ß√£o "Problemas Comuns"

## üìû Suporte

### Recursos Externos

- **Firebase**: https://firebase.google.com/docs
- **React**: https://react.dev
- **Material UI**: https://mui.com
- **Vite**: https://vitejs.dev
- **Express**: https://expressjs.com
- **Render**: https://render.com/docs

### Documenta√ß√£o Interna

Todos os arquivos `.md` na raiz do projeto cont√™m informa√ß√µes detalhadas.

## ‚úÖ Checklist de Leitura

Para novos desenvolvedores:

- [ ] Ler [SUMMARY.md](SUMMARY.md)
- [ ] Ler [NEXT_STEPS.md](NEXT_STEPS.md)
- [ ] Seguir [QUICKSTART.md](QUICKSTART.md)
- [ ] Estudar [ARCHITECTURE.md](ARCHITECTURE.md)
- [ ] Consultar [API.md](API.md)
- [ ] Revisar [EXAMPLES.md](EXAMPLES.md)
- [ ] Preparar [DEPLOY.md](DEPLOY.md)

## üéâ Conclus√£o

Esta documenta√ß√£o cobre todos os aspectos do projeto **RPA ROI Navigator**:

‚úÖ Setup e configura√ß√£o  
‚úÖ Arquitetura t√©cnica  
‚úÖ API REST  
‚úÖ Deploy  
‚úÖ Exemplos e testes  
‚úÖ Estrutura do c√≥digo  

**Comece por**: [NEXT_STEPS.md](NEXT_STEPS.md)

---

**Vers√£o da Documenta√ß√£o**: 1.0.0  
**√öltima Atualiza√ß√£o**: 2024-01-15  
**Total de Documentos**: 9 arquivos principais


==================================================================
ARQUIVO: \NEXT_STEPS.md
==================================================================

# üöÄ Pr√≥ximos Passos - RPA ROI Navigator

Parab√©ns! O projeto **RPA ROI Navigator** foi criado com sucesso. Este guia mostrar√° os pr√≥ximos passos para colocar a aplica√ß√£o em funcionamento.

## üìã Status Atual

‚úÖ **Estrutura do projeto criada**  
‚úÖ **Backend implementado** (Node.js + Express + Firebase)  
‚úÖ **Frontend implementado** (React + Material UI + PWA)  
‚úÖ **Documenta√ß√£o completa**  
‚úÖ **Pronto para desenvolvimento local**

## üéØ Pr√≥ximos Passos Imediatos

### 1. Configurar o Firebase (15 minutos)

#### a) Criar Projeto Firebase

1. Acesse [Firebase Console](https://console.firebase.google.com)
2. Clique em "Adicionar projeto"
3. Nome do projeto: `rpa-roi-navigator` (ou outro de sua escolha)
4. Desabilite Google Analytics (opcional)
5. Clique em "Criar projeto"

#### b) Habilitar Firestore

1. No menu lateral, clique em "Firestore Database"
2. Clique em "Criar banco de dados"
3. Escolha **"Iniciar no modo de produ√ß√£o"**
4. Selecione a regi√£o: **southamerica-east1** (S√£o Paulo)
5. Clique em "Ativar"

#### c) Obter Credenciais Admin SDK

1. Clique no √≠cone de engrenagem ‚öôÔ∏è ‚Üí "Configura√ß√µes do projeto"
2. V√° para a aba "Contas de servi√ßo"
3. Clique em "Gerar nova chave privada"
4. Salve o arquivo JSON baixado (voc√™ precisar√° dele)

#### d) Obter Credenciais Client SDK

1. Na mesma tela de configura√ß√µes
2. Role at√© "Seus aplicativos"
3. Clique no √≠cone Web `</>`
4. Registre o app: `RPA ROI Navigator Frontend`
5. Copie as configura√ß√µes do Firebase (voc√™ precisar√° delas)

### 2. Instalar Depend√™ncias do Backend (5 minutos)

```bash
cd backend
npm install
```

### 3. Configurar Vari√°veis de Ambiente do Backend

Crie o arquivo `backend/.env` (copie de `.env.example`):

```bash
cd backend
cp .env.example .env
```

Edite `backend/.env` com os dados do Firebase:

```env
PORT=5000
NODE_ENV=development

# Dados do arquivo JSON baixado (Admin SDK)
FIREBASE_PROJECT_ID=seu-projeto-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\nCole-a-chave-privada-aqui\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk-xxxxx@seu-projeto.iam.gserviceaccount.com

ALLOWED_ORIGINS=http://localhost:5173
```

**‚ö†Ô∏è IMPORTANTE**: 
- Mantenha os `\n` na `FIREBASE_PRIVATE_KEY`
- Use aspas duplas ao redor da chave

### 4. Inicializar o Firestore com Dados Padr√£o

```bash
cd backend
node src/scripts/initFirestore.js
```

Voc√™ ver√°:
```
üî• Inicializando Firestore...
‚úÖ Configura√ß√µes globais criadas
‚úÖ Projeto de exemplo criado
üéâ Firestore inicializado com sucesso!
```

### 5. Iniciar o Backend

```bash
cd backend
npm run dev
```

Voc√™ ver√°:
```
‚úÖ Firebase Admin initialized successfully
üöÄ Server running on port 5000
üìç Environment: development
üåê CORS enabled for: http://localhost:5173
```

**Teste**: Abra `http://localhost:5000/api/health` no navegador.

### 6. Instalar Depend√™ncias do Frontend (5 minutos)

Abra um **novo terminal**:

```bash
cd frontend
npm install
```

### 7. Configurar Vari√°veis de Ambiente do Frontend

Crie o arquivo `frontend/.env`:

```bash
cd frontend
cp .env.example .env
```

Edite `frontend/.env` com os dados do Firebase Client SDK:

```env
VITE_API_URL=http://localhost:5000

# Dados obtidos no passo 1d (Client SDK)
VITE_FIREBASE_API_KEY=AIzaSy...
VITE_FIREBASE_AUTH_DOMAIN=seu-projeto.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=seu-projeto-id
VITE_FIREBASE_STORAGE_BUCKET=seu-projeto.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
```

### 8. Iniciar o Frontend

```bash
cd frontend
npm run dev
```

Voc√™ ver√°:
```
VITE v5.1.0  ready in 500 ms

‚ûú  Local:   http://localhost:5173/
‚ûú  Network: use --host to expose
```

### 9. Testar a Aplica√ß√£o

1. Abra `http://localhost:5173` no navegador
2. Voc√™ ver√° o wizard de c√°lculo de ROI
3. Preencha um projeto de teste:
   - **Nome**: "Teste - Automa√ß√£o de Faturamento"
   - **Volume**: 5000
   - **AHT**: 10
   - **Custo FTE**: 8000
   - **Taxa de Erro**: 5%
   - **N¬∫ Aplica√ß√µes**: 3
   - **Tipo de Dados**: Estruturados
   - **Ambiente**: Web
   - **N¬∫ Passos**: 25
4. Clique em "Calcular ROI"
5. Visualize o dashboard com os resultados

**‚úÖ Se tudo funcionou, parab√©ns! A aplica√ß√£o est√° rodando localmente.**

## üîç Verifica√ß√£o de Problemas

### Backend n√£o inicia

**Erro**: `Firebase Admin initialization failed`

**Solu√ß√£o**:
1. Verifique se o arquivo `.env` est√° na pasta `backend/`
2. Confirme que a `FIREBASE_PRIVATE_KEY` est√° correta
3. Certifique-se de manter os `\n` na string

### CORS Error

**Erro**: `Access to XMLHttpRequest has been blocked by CORS policy`

**Solu√ß√£o**:
1. Verifique se `ALLOWED_ORIGINS` no backend inclui `http://localhost:5173`
2. Reinicie o backend ap√≥s alterar o `.env`

### Frontend n√£o carrega

**Erro**: `Failed to fetch` ou erro de rede

**Solu√ß√£o**:
1. Confirme que o backend est√° rodando em `http://localhost:5000`
2. Teste `http://localhost:5000/api/health` no navegador
3. Verifique se `VITE_API_URL` no frontend est√° correto

## üìö Pr√≥ximos Passos Opcionais

### Customiza√ß√£o

- [ ] Ajustar taxas padr√£o no Firestore (cole√ß√£o `settings`)
- [ ] Personalizar cores do tema em `frontend/src/App.jsx`
- [ ] Adicionar logo da empresa
- [ ] Traduzir textos se necess√°rio

### Desenvolvimento

- [ ] Explorar o c√≥digo em `backend/src/services/calculationService.js`
- [ ] Entender a l√≥gica de c√°lculo
- [ ] Modificar f√≥rmulas se necess√°rio
- [ ] Adicionar novos campos ao formul√°rio

### Testes

- [ ] Testar diferentes cen√°rios (ver `EXAMPLES.md`)
- [ ] Validar c√°lculos com dados reais
- [ ] Testar em diferentes navegadores
- [ ] Testar responsividade mobile

### Deploy

- [ ] Seguir o guia em `DEPLOY.md`
- [ ] Configurar Render (backend e frontend)
- [ ] Configurar dom√≠nio personalizado
- [ ] Configurar SSL/HTTPS

## üìñ Documenta√ß√£o de Refer√™ncia

| Documento | Quando Usar |
|-----------|-------------|
| [QUICKSTART.md](QUICKSTART.md) | Setup inicial r√°pido |
| [ARCHITECTURE.md](ARCHITECTURE.md) | Entender a arquitetura |
| [API.md](API.md) | Integrar com a API |
| [DEPLOY.md](DEPLOY.md) | Deploy em produ√ß√£o |
| [EXAMPLES.md](EXAMPLES.md) | Casos de uso e testes |
| [PROJECT_STRUCTURE.md](PROJECT_STRUCTURE.md) | Estrutura de arquivos |

## üÜò Precisa de Ajuda?

### Recursos

1. **Documenta√ß√£o do Projeto**: Leia os arquivos `.md` na raiz
2. **Firebase Docs**: https://firebase.google.com/docs
3. **React Docs**: https://react.dev
4. **Material UI Docs**: https://mui.com
5. **Vite Docs**: https://vitejs.dev

### Checklist de Troubleshooting

- [ ] Backend est√° rodando?
- [ ] Frontend est√° rodando?
- [ ] Firestore foi inicializado?
- [ ] Vari√°veis de ambiente est√£o corretas?
- [ ] Credenciais do Firebase est√£o v√°lidas?
- [ ] CORS est√° configurado corretamente?

## üéâ Conclus√£o

Voc√™ agora tem uma aplica√ß√£o completa de c√°lculo de ROI para automa√ß√µes RPA!

### O que voc√™ pode fazer agora:

‚úÖ Criar simula√ß√µes de ROI  
‚úÖ Visualizar resultados em dashboard  
‚úÖ Salvar projetos no Firestore  
‚úÖ Customizar a aplica√ß√£o  
‚úÖ Preparar para deploy em produ√ß√£o  

### Pr√≥ximos Marcos:

1. ‚úÖ **Desenvolvimento Local** ‚Üê Voc√™ est√° aqui
2. ‚è≥ **Testes e Valida√ß√£o**
3. ‚è≥ **Deploy em Produ√ß√£o**
4. ‚è≥ **Treinamento de Usu√°rios**
5. ‚è≥ **Feedback e Melhorias**

---

**Boa sorte com o projeto! üöÄ**

Se tiver d√∫vidas, consulte a documenta√ß√£o ou revise os arquivos de c√≥digo.

**Vers√£o**: 1.0.0  
**Data**: 2024-01-15


==================================================================
ARQUIVO: \package.json
==================================================================

{
  "dependencies": {
    "firebase": "^12.6.0"
  }
}


==================================================================
ARQUIVO: \PROJECT_STRUCTURE.md
==================================================================

# üìÅ Estrutura Completa do Projeto

```
rpa-calculator/
‚îÇ
‚îú‚îÄ‚îÄ üìÑ README.md                    # Vis√£o geral do projeto
‚îú‚îÄ‚îÄ üìÑ SUMMARY.md                   # Resumo executivo
‚îú‚îÄ‚îÄ üìÑ QUICKSTART.md                # Guia de in√≠cio r√°pido
‚îú‚îÄ‚îÄ üìÑ ARCHITECTURE.md              # Documenta√ß√£o t√©cnica
‚îú‚îÄ‚îÄ üìÑ API.md                       # Documenta√ß√£o da API
‚îú‚îÄ‚îÄ üìÑ DEPLOY.md                    # Guia de deploy
‚îú‚îÄ‚îÄ üìÑ EXAMPLES.md                  # Casos de uso e testes
‚îÇ
‚îú‚îÄ‚îÄ üìÇ backend/                     # API Node.js + Express
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ README.md                # Documenta√ß√£o do backend
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ package.json             # Depend√™ncias Node.js
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ .env.example             # Template de vari√°veis de ambiente
‚îÇ   ‚îú‚îÄ‚îÄ üìÑ .gitignore               # Arquivos ignorados pelo Git
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ src/
‚îÇ       ‚îú‚îÄ‚îÄ üìÑ server.js            # Entry point da aplica√ß√£o
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ config/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ firebase.js      # Configura√ß√£o Firebase Admin
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ controllers/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ projectController.js    # Controller de projetos
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ settingsController.js   # Controller de configura√ß√µes
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ services/
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ üìÑ calculationService.js   # L√≥gica de c√°lculo (ROI, Complexidade)
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ projectService.js       # Servi√ßo de projetos (CRUD)
‚îÇ       ‚îÇ
‚îÇ       ‚îú‚îÄ‚îÄ üìÇ routes/
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ index.js         # Defini√ß√£o de rotas da API
‚îÇ       ‚îÇ
‚îÇ       ‚îî‚îÄ‚îÄ üìÇ scripts/
‚îÇ           ‚îî‚îÄ‚îÄ üìÑ initFirestore.js # Script de inicializa√ß√£o do Firestore
‚îÇ
‚îî‚îÄ‚îÄ üìÇ frontend/                    # React PWA
    ‚îú‚îÄ‚îÄ üìÑ README.md                # Documenta√ß√£o do frontend
    ‚îú‚îÄ‚îÄ üìÑ package.json             # Depend√™ncias React
    ‚îú‚îÄ‚îÄ üìÑ vite.config.js           # Configura√ß√£o Vite + PWA
    ‚îú‚îÄ‚îÄ üìÑ index.html               # HTML principal
    ‚îú‚îÄ‚îÄ üìÑ .env.example             # Template de vari√°veis de ambiente
    ‚îú‚îÄ‚îÄ üìÑ .gitignore               # Arquivos ignorados pelo Git
    ‚îÇ
    ‚îú‚îÄ‚îÄ üìÇ public/                  # Assets est√°ticos
    ‚îÇ   ‚îú‚îÄ‚îÄ favicon.ico
    ‚îÇ   ‚îú‚îÄ‚îÄ pwa-192x192.png
    ‚îÇ   ‚îî‚îÄ‚îÄ pwa-512x512.png
    ‚îÇ
    ‚îî‚îÄ‚îÄ üìÇ src/
        ‚îú‚îÄ‚îÄ üìÑ main.jsx             # Entry point React
        ‚îú‚îÄ‚îÄ üìÑ App.jsx              # Componente principal + Tema
        ‚îÇ
        ‚îú‚îÄ‚îÄ üìÇ config/
        ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ firebase.js      # Configura√ß√£o Firebase Client
        ‚îÇ
        ‚îú‚îÄ‚îÄ üìÇ services/
        ‚îÇ   ‚îî‚îÄ‚îÄ üìÑ api.js           # Cliente HTTP (Axios)
        ‚îÇ
        ‚îî‚îÄ‚îÄ üìÇ components/
            ‚îú‚îÄ‚îÄ üìÑ ROIWizard.jsx    # Wizard principal (multi-step)
            ‚îú‚îÄ‚îÄ üìÑ ResultsDashboard.jsx  # Dashboard de resultados
            ‚îÇ
            ‚îî‚îÄ‚îÄ üìÇ steps/
                ‚îú‚îÄ‚îÄ üìÑ Step1ProjectInfo.jsx    # Step 1: Informa√ß√µes
                ‚îú‚îÄ‚îÄ üìÑ Step2AsIsInputs.jsx     # Step 2: AS-IS
                ‚îú‚îÄ‚îÄ üìÑ Step3Complexity.jsx     # Step 3: Complexidade
                ‚îî‚îÄ‚îÄ üìÑ Step4Review.jsx         # Step 4: Revis√£o
```

## üìä Estat√≠sticas do Projeto

### Backend
- **Arquivos**: 14 arquivos
- **Linhas de C√≥digo**: ~1.500 linhas
- **Servi√ßos**: 2 (Calculation, Project)
- **Controllers**: 2 (Project, Settings)
- **Endpoints**: 7 endpoints REST

### Frontend
- **Arquivos**: 14 arquivos
- **Linhas de C√≥digo**: ~2.000 linhas
- **Componentes**: 6 componentes React
- **Steps do Wizard**: 4 steps
- **Gr√°ficos**: 3 tipos (Bar, Pie, Line)

### Documenta√ß√£o
- **Arquivos**: 7 documentos Markdown
- **P√°ginas**: ~50 p√°ginas equivalentes
- **T√≥picos**: 
  - Vis√£o geral
  - Setup e instala√ß√£o
  - Arquitetura t√©cnica
  - API REST
  - Deploy
  - Exemplos e testes
  - Resumo executivo

## üéØ Arquivos Principais

### Backend

| Arquivo | Descri√ß√£o | Linhas |
|---------|-----------|--------|
| `server.js` | Entry point, configura√ß√£o Express | ~80 |
| `calculationService.js` | L√≥gica de c√°lculo de ROI e complexidade | ~350 |
| `projectService.js` | CRUD de projetos no Firestore | ~150 |
| `projectController.js` | Endpoints de projetos | ~150 |
| `settingsController.js` | Endpoints de configura√ß√µes | ~70 |

### Frontend

| Arquivo | Descri√ß√£o | Linhas |
|---------|-----------|--------|
| `App.jsx` | Componente principal + Tema MUI | ~150 |
| `ROIWizard.jsx` | Wizard multi-step | ~250 |
| `ResultsDashboard.jsx` | Dashboard com gr√°ficos | ~400 |
| `Step2AsIsInputs.jsx` | Formul√°rio AS-IS | ~150 |
| `Step3Complexity.jsx` | Formul√°rio de complexidade | ~200 |

## üîß Tecnologias Utilizadas

### Backend
```json
{
  "express": "^4.18.2",
  "cors": "^2.8.5",
  "dotenv": "^16.3.1",
  "firebase-admin": "^12.0.0",
  "helmet": "^7.1.0",
  "morgan": "^1.10.0"
}
```

### Frontend
```json
{
  "react": "^18.2.0",
  "react-dom": "^18.2.0",
  "@mui/material": "^5.15.10",
  "@mui/icons-material": "^5.15.10",
  "axios": "^1.6.7",
  "firebase": "^10.8.0",
  "recharts": "^2.12.0",
  "vite": "^5.1.0",
  "vite-plugin-pwa": "^0.17.5"
}
```

## üì¶ Tamanho Estimado

### Desenvolvimento
- **Backend**: ~15 MB (node_modules)
- **Frontend**: ~250 MB (node_modules)
- **Total**: ~265 MB

### Produ√ß√£o (Build)
- **Backend**: ~5 MB
- **Frontend**: ~500 KB (comprimido)
- **Total**: ~5.5 MB

## üöÄ Comandos Principais

### Backend
```bash
cd backend
npm install          # Instalar depend√™ncias
npm run dev          # Desenvolvimento (nodemon)
npm start            # Produ√ß√£o
node src/scripts/initFirestore.js  # Inicializar Firestore
```

### Frontend
```bash
cd frontend
npm install          # Instalar depend√™ncias
npm run dev          # Desenvolvimento (Vite)
npm run build        # Build de produ√ß√£o
npm run preview      # Preview da build
```

## üìö Documenta√ß√£o Gerada

| Documento | Tamanho | T√≥picos |
|-----------|---------|---------|
| README.md | ~3 KB | Vis√£o geral, stack, setup |
| SUMMARY.md | ~8 KB | Resumo executivo completo |
| QUICKSTART.md | ~5 KB | Guia de in√≠cio r√°pido |
| ARCHITECTURE.md | ~12 KB | Arquitetura t√©cnica detalhada |
| API.md | ~9 KB | Documenta√ß√£o completa da API |
| DEPLOY.md | ~7 KB | Guia de deploy passo a passo |
| EXAMPLES.md | ~10 KB | Casos de uso e testes |

**Total**: ~54 KB de documenta√ß√£o

## ‚úÖ Checklist de Entrega

### C√≥digo
- [x] Backend completo (Express + Firebase)
- [x] Frontend completo (React + Material UI)
- [x] L√≥gica de c√°lculo implementada
- [x] Matriz de complexidade implementada
- [x] Wizard multi-step funcional
- [x] Dashboard de resultados com gr√°ficos
- [x] Integra√ß√£o com Firestore
- [x] PWA configurado

### Documenta√ß√£o
- [x] README principal
- [x] Resumo executivo
- [x] Guia de in√≠cio r√°pido
- [x] Documenta√ß√£o t√©cnica
- [x] Documenta√ß√£o da API
- [x] Guia de deploy
- [x] Exemplos e casos de teste

### Configura√ß√£o
- [x] package.json (backend e frontend)
- [x] .env.example (backend e frontend)
- [x] .gitignore (backend e frontend)
- [x] vite.config.js (PWA)
- [x] Firebase config (Admin e Client)

### Scripts
- [x] Script de inicializa√ß√£o do Firestore
- [x] Comandos de desenvolvimento
- [x] Comandos de build

## üéâ Status do Projeto

**‚úÖ COMPLETO E PRONTO PARA USO**

- Todos os arquivos criados
- Toda a l√≥gica implementada
- Documenta√ß√£o completa
- Pronto para desenvolvimento local
- Pronto para deploy em produ√ß√£o

---

**√öltima Atualiza√ß√£o**: 2024-01-15  
**Vers√£o**: 1.0.0


==================================================================
ARQUIVO: \QUICKSTART.md
==================================================================

# üöÄ Guia de In√≠cio R√°pido - RPA ROI Navigator

Este guia ajudar√° voc√™ a executar a aplica√ß√£o localmente em poucos minutos.

## üìã Pr√©-requisitos

- Node.js 18+ instalado ([Download](https://nodejs.org))
- Conta Firebase ([Criar conta](https://firebase.google.com))
- Git instalado

## ‚ö° Setup R√°pido

### 1. Clone o Reposit√≥rio

```bash
git clone <seu-repositorio>
cd rpa-calculator
```

### 2. Configure o Firebase

1. Acesse o [Console do Firebase](https://console.firebase.google.com)
2. Crie um novo projeto
3. Habilite o Firestore Database
4. Obtenha as credenciais:
   - **Admin SDK**: Configura√ß√µes ‚Üí Contas de servi√ßo ‚Üí Gerar nova chave privada
   - **Client SDK**: Configura√ß√µes ‚Üí Seus aplicativos ‚Üí Web

### 3. Configure o Backend

```bash
cd backend
npm install
```

Crie o arquivo `.env` (copie de `.env.example`):

```bash
cp .env.example .env
```

Edite `.env` com suas credenciais do Firebase:

```env
PORT=5000
NODE_ENV=development
FIREBASE_PROJECT_ID=seu-projeto-id
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----\n"
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@seu-projeto.iam.gserviceaccount.com
ALLOWED_ORIGINS=http://localhost:5173
```

Inicialize o Firestore com dados padr√£o:

```bash
node src/scripts/initFirestore.js
```

Inicie o servidor:

```bash
npm run dev
```

O backend estar√° rodando em `http://localhost:5000`

### 4. Configure o Frontend

Abra um novo terminal:

```bash
cd frontend
npm install
```

Crie o arquivo `.env`:

```bash
cp .env.example .env
```

Edite `.env` com suas credenciais:

```env
VITE_API_URL=http://localhost:5000
VITE_FIREBASE_API_KEY=sua-api-key
VITE_FIREBASE_AUTH_DOMAIN=seu-projeto.firebaseapp.com
VITE_FIREBASE_PROJECT_ID=seu-projeto-id
VITE_FIREBASE_STORAGE_BUCKET=seu-projeto.appspot.com
VITE_FIREBASE_MESSAGING_SENDER_ID=123456789
VITE_FIREBASE_APP_ID=1:123456789:web:abcdef
```

Inicie o dev server:

```bash
npm run dev
```

O frontend estar√° rodando em `http://localhost:5173`

## ‚úÖ Verifica√ß√£o

1. Acesse `http://localhost:5173`
2. Voc√™ ver√° o wizard de c√°lculo de ROI
3. Preencha os dados de um projeto de exemplo
4. Clique em "Calcular ROI"
5. Visualize o dashboard com os resultados

## üéØ Pr√≥ximos Passos

- [ ] Explore o c√≥digo em `backend/src/services/calculationService.js` para entender a l√≥gica de c√°lculo
- [ ] Customize o tema em `frontend/src/App.jsx`
- [ ] Ajuste as taxas padr√£o no Firestore (cole√ß√£o `settings`)
- [ ] Leia a documenta√ß√£o completa em `API.md`
- [ ] Prepare o deploy seguindo `DEPLOY.md`

## üêõ Problemas Comuns

### Backend n√£o inicia

**Erro**: `Firebase Admin initialization failed`

**Solu√ß√£o**: Verifique se a `FIREBASE_PRIVATE_KEY` est√° correta. Certifique-se de manter os `\n` na string.

### CORS Error no Frontend

**Erro**: `Access to XMLHttpRequest has been blocked by CORS policy`

**Solu√ß√£o**: Verifique se `ALLOWED_ORIGINS` no backend inclui `http://localhost:5173`

### Firestore Permission Denied

**Erro**: `Missing or insufficient permissions`

**Solu√ß√£o**: 
1. V√° no Console do Firebase ‚Üí Firestore ‚Üí Regras
2. Configure as regras para permitir leitura/escrita em desenvolvimento:

```javascript
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    match /{document=**} {
      allow read, write: if true; // Apenas para desenvolvimento!
    }
  }
}
```

### Build do Frontend falha

**Erro**: `Module not found` ou `Cannot find module`

**Solu√ß√£o**: 
```bash
cd frontend
rm -rf node_modules package-lock.json
npm install
```

## üìö Documenta√ß√£o

- [README.md](README.md) - Vis√£o geral do projeto
- [API.md](API.md) - Documenta√ß√£o completa da API
- [DEPLOY.md](DEPLOY.md) - Guia de deploy para produ√ß√£o
- [backend/README.md](backend/README.md) - Documenta√ß√£o do backend
- [frontend/README.md](frontend/README.md) - Documenta√ß√£o do frontend

## üÜò Suporte

Se encontrar problemas:

1. Verifique os logs do terminal
2. Consulte a documenta√ß√£o relevante
3. Revise as configura√ß√µes do Firebase
4. Teste as credenciais manualmente

## üéâ Tudo Funcionando?

Parab√©ns! Voc√™ est√° pronto para:

- Criar simula√ß√µes de ROI
- Customizar a aplica√ß√£o
- Preparar o deploy para produ√ß√£o

Boa codifica√ß√£o! üöÄ


==================================================================
ARQUIVO: \README.md
==================================================================

# RPA ROI Navigator

Aplica√ß√£o PWA corporativa para c√°lculo e proje√ß√£o de ROI de automa√ß√µes RPA, focada no setor de energia.

## üöÄ Stack Tecnol√≥gica

### Frontend
- React.js + Vite
- Material UI (Design Corporativo)
- PWA Support
- Firebase SDK

### Backend
- Node.js + Express
- Firebase Firestore (NoSQL)
- L√≥gica de C√°lculo de ROI e Complexidade

### Infraestrutura
- Deploy: Render (Web Service + Static Site)
- Database: Firebase Firestore

## üìã Funcionalidades

- ‚úÖ Wizard de entrada de dados (AS-IS)
- ‚úÖ Matriz de Complexidade autom√°tica (scoring oculto)
- ‚úÖ C√°lculo de ROI, Payback e custos TO-BE
- ‚úÖ Persist√™ncia de projetos no Firestore
- ‚úÖ Dashboard de resultados com gr√°ficos
- ‚úÖ Configura√ß√µes globais centralizadas

## üèóÔ∏è Estrutura do Projeto

```
rpa-calculator/
‚îú‚îÄ‚îÄ backend/          # API Node.js + Express
‚îú‚îÄ‚îÄ frontend/         # React PWA
‚îî‚îÄ‚îÄ README.md
```

## üîß Configura√ß√£o

### Backend

1. Entre na pasta backend:
```bash
cd backend
npm install
```

2. Configure as vari√°veis de ambiente (`.env`):
```
PORT=5000
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_PRIVATE_KEY=your-private-key
FIREBASE_CLIENT_EMAIL=your-client-email
```

3. Inicie o servidor:
```bash
npm run dev
```

### Frontend

1. Entre na pasta frontend:
```bash
cd frontend
npm install
```

2. Configure o Firebase (`.env`):
```
VITE_FIREBASE_API_KEY=your-api-key
VITE_FIREBASE_AUTH_DOMAIN=your-auth-domain
VITE_FIREBASE_PROJECT_ID=your-project-id
VITE_API_URL=http://localhost:5000
```

3. Inicie o dev server:
```bash
npm run dev
```

## üìä Regras de Neg√≥cio

### Matriz de Complexidade

**Crit√©rios de Pontua√ß√£o:**
- N¬∫ de Aplica√ß√µes: 1-2 (1pt) | 3-4 (2pts) | 5+ (3pts)
- Tipo de Dados: Estruturados (1pt) | E-mail/Texto (2pts) | Imagem/OCR (5pts)
- Ambiente: Web/Local (1pt) | SAP/Mainframe (2pts) | Citrix/Remoto (4pts)
- Regras/Passos: <20 (1pt) | 20-50 (3pts) | >50 (5pts)

**Classifica√ß√£o:**
- Baixa (4-6 pts): 80h Dev + 24h An√°lise
- M√©dia (7-11 pts): 160h Dev + 48h An√°lise
- Alta (12+ pts): 320h Dev + 96h An√°lise

### F√≥rmulas Financeiras

- **Custo AS-IS**: (Volume √ó AHT √ó 12) √ó Custo_Minuto_FTE √ó (1 + TaxaErro)
- **ROI Ano 1**: ((Custo_AS_IS - Custo_TO_BE) - Custo_Dev_Total) / Custo_Dev_Total √ó 100
- **Payback Period**: Meses at√© economia acumulada cobrir investimento

## üö¢ Deploy

### Backend (Render Web Service)
1. Conecte o reposit√≥rio no Render
2. Configure as vari√°veis de ambiente
3. Build Command: `cd backend && npm install`
4. Start Command: `cd backend && npm start`

### Frontend (Render Static Site)
1. Build Command: `cd frontend && npm install && npm run build`
2. Publish Directory: `frontend/dist`

## üìÑ Licen√ßa

Proprietary - Uso Corporativo


==================================================================
ARQUIVO: \release.js
==================================================================

import fs from 'fs';
import { execSync } from 'child_process';
import path from 'path';
import { fileURLToPath } from 'url';

// Configura√ß√£o para ler diret√≥rios em ES Modules
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Caminhos
const packageJsonPath = path.join(__dirname, 'frontend', 'package.json');
const versionFilePath = path.join(__dirname, 'frontend', 'src', 'version.js');

// Verifica se o package.json existe
if (!fs.existsSync(packageJsonPath)) {
    console.error('‚ùå Erro: Arquivo frontend/package.json n√£o encontrado.');
    process.exit(1);
}

// 1. Ler o package.json atual
const packageJson = JSON.parse(fs.readFileSync(packageJsonPath, 'utf8'));

if (!packageJson.version) {
    packageJson.version = "1.0.0";
}

const currentVersion = packageJson.version;

// 2. Incrementar a vers√£o (L√≥gica: Patch 0.0.X)
let versionParts = currentVersion.split('.').map(Number);
versionParts[2] += 1; 
const newVersion = versionParts.join('.');

// 3. Atualizar o package.json
packageJson.version = newVersion;
fs.writeFileSync(packageJsonPath, JSON.stringify(packageJson, null, 2));

// 4. Criar/Atualizar o arquivo src/version.js
const versionFileContent = `export const appVersion = "${newVersion}";\n`;

const dir = path.dirname(versionFilePath);
if (!fs.existsSync(dir)){
    fs.mkdirSync(dir, { recursive: true });
}

fs.writeFileSync(versionFilePath, versionFileContent);

console.log(`‚úÖ Vers√£o atualizada: ${currentVersion} -> ${newVersion}`);

// 5. Executar comandos GIT com stdio: 'inherit' para evitar ENOBUFS
try {
    console.log('üì¶ Adicionando arquivos ao Git...');
    // O 'stdio: inherit' joga a sa√≠da direto pro terminal e evita estourar o buffer
    execSync('git add .', { stdio: 'inherit' });

    console.log('üîñ Criando commit...');
    execSync(`git commit -m "vers√£o ${newVersion}"`, { stdio: 'inherit' });

    try {
        console.log('üöÄ Enviando para o reposit√≥rio (Push)...');
        execSync('git push', { stdio: 'inherit' });
    } catch (pushError) {
        console.log('‚ö†Ô∏è Aviso: N√£o foi poss√≠vel fazer o push (verifique o remote).');
    }

    console.log('üéâ Deploy realizado com sucesso!');
} catch (error) {
    console.error('‚ùå Erro ao executar comandos do Git:', error.message);
}

==================================================================
ARQUIVO: \SUMMARY.md
==================================================================

# üìã Resumo Executivo - RPA ROI Navigator

## üéØ Vis√£o Geral

O **RPA ROI Navigator** √© uma aplica√ß√£o PWA (Progressive Web App) corporativa desenvolvida para calcular e projetar o retorno sobre investimento (ROI) de automa√ß√µes RPA, focada especificamente no setor de energia e grandes corpora√ß√µes.

## ‚ú® Caracter√≠sticas Principais

### üßÆ C√°lculo Inteligente de ROI
- **Matriz de Complexidade Autom√°tica**: Sistema de pontua√ß√£o oculto que classifica automa√ß√µes em BAIXA, M√âDIA ou ALTA complexidade
- **F√≥rmulas Financeiras Precisas**: C√°lculo de ROI, Payback, economias e custos baseados em dados reais
- **Proje√ß√µes Detalhadas**: An√°lise ano a ano com breakdown completo de custos

### üé® Interface Moderna e Intuitiva
- **Wizard Multi-Step**: Processo guiado em 4 etapas para coleta de dados
- **Dashboard Executivo**: Visualiza√ß√£o rica com KPIs, gr√°ficos interativos e m√©tricas
- **Design Corporativo**: Material UI com paleta de cores premium e gradientes vibrantes
- **PWA**: Instal√°vel, funciona offline, experi√™ncia nativa

### üîß Tecnologia Robusta
- **Frontend**: React 18 + Vite + Material UI + Recharts
- **Backend**: Node.js + Express + Firebase Admin SDK
- **Database**: Firebase Firestore (NoSQL, escal√°vel)
- **Deploy**: Render (Web Service + Static Site)

## üìä Funcionalidades Implementadas

### ‚úÖ Wizard de Entrada de Dados
1. **Informa√ß√µes do Projeto**: Nome e respons√°vel
2. **Cen√°rio AS-IS**: Volume, AHT, custo FTE, taxa de erro
3. **An√°lise de Complexidade**: Aplica√ß√µes, tipo de dados, ambiente, passos
4. **Revis√£o**: Confirma√ß√£o visual de todos os dados

### ‚úÖ C√°lculos Automatizados
- Custo AS-IS (situa√ß√£o atual manual)
- Custo de Desenvolvimento (baseado em horas e taxas)
- Custo TO-BE (opera√ß√£o com automa√ß√£o)
- ROI Ano 1 (retorno percentual)
- Payback Period (tempo at√© recuperar investimento)
- Economia Mensal e Anual

### ‚úÖ Dashboard de Resultados
- **KPIs Principais**: ROI, Economia, Payback, Complexidade
- **Gr√°fico de Compara√ß√£o**: Custos AS-IS vs TO-BE
- **Gr√°fico de Composi√ß√£o**: Breakdown de custos TO-BE (licen√ßas, infra, manuten√ß√£o)
- **Proje√ß√£o de Payback**: Linha do tempo at√© break-even
- **Detalhamento Financeiro**: Tabelas com todos os valores

### ‚úÖ Persist√™ncia de Dados
- Salvamento autom√°tico de projetos no Firestore
- Configura√ß√µes globais centralizadas
- Hist√≥rico de simula√ß√µes por usu√°rio

## üèóÔ∏è Arquitetura

```
Frontend (React PWA)
    ‚Üì REST API
Backend (Express)
    ‚Üì Firebase Admin SDK
Firestore Database
```

### Cole√ß√µes Firestore

**settings/global_config**
- Taxas hor√°rias (dev, analista)
- Custos anuais (licen√ßas, infraestrutura)
- Baselines de horas por complexidade

**projects**
- Dados de entrada (AS-IS)
- Crit√©rios de complexidade
- Resultados calculados
- Metadados (dono, timestamps)

## üìà Regras de Neg√≥cio

### Matriz de Complexidade

| Crit√©rio | Baixo | M√©dio | Alto |
|----------|-------|-------|------|
| **Aplica√ß√µes** | 1-2 | 3-4 | 5+ |
| **Dados** | Estruturados | Texto | OCR |
| **Ambiente** | Web | SAP | Citrix |
| **Passos** | <20 | 20-50 | >50 |

**Classifica√ß√£o Final:**
- 4-6 pontos: BAIXA (104h total)
- 7-11 pontos: M√âDIA (208h total)
- 12+ pontos: ALTA (416h total)

### F√≥rmulas Principais

**ROI Ano 1**
```
ROI = ((Economia_Anual - Custo_Dev) / Custo_Dev) √ó 100
```

**Payback**
```
Payback_Meses = Custo_Dev / (Economia_Anual / 12)
```

## üì¶ Estrutura de Arquivos

```
rpa-calculator/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # Firebase Admin
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/     # L√≥gica de requisi√ß√µes
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # Regras de neg√≥cio
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/          # Endpoints da API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ scripts/         # Utilit√°rios (init Firestore)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ server.js        # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ .env.example
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/      # React components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ steps/       # Wizard steps
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ROIWizard.jsx
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ResultsDashboard.jsx
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # API client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/          # Firebase Client
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.jsx          # Main component
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main.jsx         # Entry point
‚îÇ   ‚îú‚îÄ‚îÄ public/              # Assets est√°ticos
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ vite.config.js       # Vite + PWA config
‚îÇ   ‚îî‚îÄ‚îÄ index.html
‚îú‚îÄ‚îÄ README.md                # Vis√£o geral
‚îú‚îÄ‚îÄ QUICKSTART.md            # Guia de in√≠cio r√°pido
‚îú‚îÄ‚îÄ ARCHITECTURE.md          # Documenta√ß√£o t√©cnica
‚îú‚îÄ‚îÄ API.md                   # Documenta√ß√£o da API
‚îú‚îÄ‚îÄ DEPLOY.md                # Guia de deploy
‚îî‚îÄ‚îÄ EXAMPLES.md              # Casos de uso e testes
```

## üöÄ Como Come√ßar

### Desenvolvimento Local

1. **Clone o reposit√≥rio**
2. **Configure o Firebase** (Firestore + credenciais)
3. **Backend**: `cd backend && npm install && npm run dev`
4. **Frontend**: `cd frontend && npm install && npm run dev`
5. **Acesse**: `http://localhost:5173`

Consulte [QUICKSTART.md](QUICKSTART.md) para instru√ß√µes detalhadas.

### Deploy em Produ√ß√£o

1. **Backend**: Render Web Service
2. **Frontend**: Render Static Site
3. **Database**: Firebase Firestore

Consulte [DEPLOY.md](DEPLOY.md) para passo a passo completo.

## üìö Documenta√ß√£o Dispon√≠vel

| Documento | Descri√ß√£o |
|-----------|-----------|
| [README.md](README.md) | Vis√£o geral e instru√ß√µes b√°sicas |
| [QUICKSTART.md](QUICKSTART.md) | Setup local em minutos |
| [ARCHITECTURE.md](ARCHITECTURE.md) | Arquitetura t√©cnica detalhada |
| [API.md](API.md) | Documenta√ß√£o completa da API REST |
| [DEPLOY.md](DEPLOY.md) | Guia de deploy para produ√ß√£o |
| [EXAMPLES.md](EXAMPLES.md) | Casos de uso e testes |

## üéØ Casos de Uso Reais

### Exemplo 1: Automa√ß√£o Simples
- **Volume**: 2.000 transa√ß√µes/m√™s
- **Complexidade**: BAIXA
- **ROI**: 313%
- **Payback**: 2,9 meses

### Exemplo 2: Automa√ß√£o M√©dia
- **Volume**: 5.000 transa√ß√µes/m√™s
- **Complexidade**: M√âDIA
- **ROI**: 1.797%
- **Payback**: 0,6 meses (~18 dias)

### Exemplo 3: Automa√ß√£o Complexa
- **Volume**: 10.000 transa√ß√µes/m√™s
- **Complexidade**: ALTA
- **ROI**: 3.682%
- **Payback**: 0,3 meses (~9 dias)

Consulte [EXAMPLES.md](EXAMPLES.md) para mais cen√°rios.

## üîê Seguran√ßa

- ‚úÖ Helmet (Headers de seguran√ßa)
- ‚úÖ CORS configur√°vel
- ‚úÖ Valida√ß√£o de inputs
- ‚úÖ Firebase Admin SDK
- ‚úÖ HTTPS obrigat√≥rio em produ√ß√£o
- ‚úÖ Environment variables para credenciais

## üìà Roadmap Futuro

### Fase 2: Autentica√ß√£o
- Firebase Authentication
- Login com Google/Microsoft
- Controle de acesso por usu√°rio

### Fase 3: Colabora√ß√£o
- Compartilhamento de projetos
- Coment√°rios e anota√ß√µes
- Hist√≥rico de vers√µes

### Fase 4: Analytics
- Dashboard executivo
- Compara√ß√£o de projetos
- Exporta√ß√£o para Excel/PDF

### Fase 5: IA/ML
- Sugest√µes de otimiza√ß√£o
- Previs√£o de ROI baseada em hist√≥rico
- Detec√ß√£o de anomalias

## üéâ Conclus√£o

O **RPA ROI Navigator** √© uma solu√ß√£o completa, moderna e escal√°vel para c√°lculo de ROI de automa√ß√µes RPA. Com arquitetura robusta, interface intuitiva e c√°lculos precisos, est√° pronto para uso em ambientes corporativos de grande porte.

### Principais Benef√≠cios

‚úÖ **Precis√£o**: F√≥rmulas financeiras validadas  
‚úÖ **Velocidade**: C√°lculos instant√¢neos  
‚úÖ **Usabilidade**: Interface guiada e intuitiva  
‚úÖ **Escalabilidade**: Arquitetura cloud-native  
‚úÖ **Manutenibilidade**: C√≥digo limpo e documentado  

---

**Vers√£o**: 1.0.0  
**Status**: ‚úÖ Pronto para Deploy  
**Licen√ßa**: Proprietary - Uso Corporativo

Para suporte ou d√∫vidas, consulte a documenta√ß√£o t√©cnica ou entre em contato com a equipe de desenvolvimento.
